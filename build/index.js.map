{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wplms-custom-course-player/./src/components/RootContainer.tsx","webpack://wplms-custom-course-player/./src/components/TopBar/ProgressCircle.tsx","webpack://wplms-custom-course-player/./src/components/TopBar/ProgressDropdown.tsx","webpack://wplms-custom-course-player/./src/components/TopBar/index.tsx","webpack://wplms-custom-course-player/./src/components/course/ContentArea.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/CourseSections.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/SidebarHeader.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/SidebarProgress.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/UnitItem.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/index.tsx","webpack://wplms-custom-course-player/./src/components/icons/StartIcon.tsx","webpack://wplms-custom-course-player/./src/components/review/RatingStars.tsx","webpack://wplms-custom-course-player/./src/components/review/ReviewForm.tsx","webpack://wplms-custom-course-player/./src/components/review/ReviewModal.tsx","webpack://wplms-custom-course-player/./src/components/review/SuccessMessage.tsx","webpack://wplms-custom-course-player/./src/hooks/useCourseSections.ts","webpack://wplms-custom-course-player/./src/hooks/useUnitContent.ts","webpack://wplms-custom-course-player/./src/store/actions.ts","webpack://wplms-custom-course-player/./src/store/const.ts","webpack://wplms-custom-course-player/./src/store/index.ts","webpack://wplms-custom-course-player/./src/store/reducer.ts","webpack://wplms-custom-course-player/./src/store/resolvers.ts","webpack://wplms-custom-course-player/./src/store/selectors.ts","webpack://wplms-custom-course-player/./src/utilities/apiCall.ts","webpack://wplms-custom-course-player/./src/utilities/utility.ts","webpack://wplms-custom-course-player/./src/index.css","webpack://wplms-custom-course-player/./node_modules/react-dom/client.js","webpack://wplms-custom-course-player/external window \"React\"","webpack://wplms-custom-course-player/external window \"ReactDOM\"","webpack://wplms-custom-course-player/external window \"ReactJSXRuntime\"","webpack://wplms-custom-course-player/external window [\"wp\",\"apiFetch\"]","webpack://wplms-custom-course-player/external window [\"wp\",\"data\"]","webpack://wplms-custom-course-player/external window [\"wp\",\"element\"]","webpack://wplms-custom-course-player/webpack/bootstrap","webpack://wplms-custom-course-player/webpack/runtime/compat get default export","webpack://wplms-custom-course-player/webpack/runtime/define property getters","webpack://wplms-custom-course-player/webpack/runtime/hasOwnProperty shorthand","webpack://wplms-custom-course-player/webpack/runtime/make namespace object","webpack://wplms-custom-course-player/./src/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { ICourse } from '../types/course';\nimport ContentArea from './course/ContentArea';\nimport Sidebar from './course/sidebar';\nimport TopBar from './TopBar';\nimport { State } from '../store/types';\nimport { useTypedSelect } from '../store';\n\ninterface RootContainerProps {\n    courseId: string;\n}\n\nconst RootContainer: React.FC<RootContainerProps> = ({ courseId }) => {\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n\n    // Get dispatch actions\n    const {\n        fetchCourse,\n    } = useDispatch('custom-course-player');\n\n    // Get state from Redux store\n    const {\n        courseInfo,\n        loading,\n        error,\n        currentUnitId,\n    } = useTypedSelect((select) => ({\n        courseInfo: select.getCourseInfo(parseInt(courseId)) || null,\n        loading: select.isLoadingUserInfo() || false,\n        error: select.getError() || null,\n        currentUnitId: select.getCurrentUnitId() || null,\n    }), []);\n\n\n\n\n    const toggleSidebar = () => {\n        setIsSidebarOpen(!isSidebarOpen);\n    };\n\n\n\n    if (loading) {\n        return (\n            <div className=\"h-screen flex items-center justify-center\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900\"></div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"h-screen flex items-center justify-center\">\n                <div className=\"bg-red-50 p-4 rounded-lg\">\n                    <p className=\"text-red-600\">{error}</p>\n                    <button\n                        onClick={() => courseId && fetchCourse(courseId)}\n                        className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n                    >\n                        Retry\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"flex flex-col h-screen\">\n            <TopBar\n                onToggleSidebar={toggleSidebar}\n                isSidebarOpen={isSidebarOpen}\n            />\n            <div className=\"flex flex-1 overflow-hidden pt-16\">\n                <ContentArea\n                    courseId={courseId}\n                    currentUnitId={currentUnitId}\n                    isSidebarOpen={isSidebarOpen}\n\n                />\n                {courseInfo && (\n                    <Sidebar\n                        isOpen={isSidebarOpen}\n                        onToggle={toggleSidebar}\n\n                    />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default RootContainer;","import React from 'react';\n\ninterface ProgressCircleProps {\n    progress: number;\n    size?: number;\n    strokeWidth?: number;\n    circleColor?: string;\n    progressColor?: string;\n}\n\nconst ProgressCircle: React.FC<ProgressCircleProps> = ({\n    progress,\n    size = 42, // default size\n    strokeWidth = 3,\n    circleColor = 'text-gray-700',\n    progressColor = 'text-green-500'\n}) => {\n    console.log({ progress });\n    const center = size / 2;\n    const radius = center - strokeWidth;\n    const circumference = 2 * Math.PI * radius;\n    const strokeDasharray = `${(progress / 100) * circumference}, ${circumference}`;\n\n    return (\n        <div className=\"flex items-center gap-2\">\n            <div className=\"relative\">\n                <svg\n                    className=\"transform -rotate-90\"\n                    width={size}\n                    height={size}\n                    viewBox={`0 0 ${size} ${size}`}\n                >\n                    <circle\n                        cx={center}\n                        cy={center}\n                        r={radius}\n                        stroke=\"currentColor\"\n                        strokeWidth={strokeWidth}\n                        fill=\"none\"\n                        className={circleColor}\n                    />\n                    <circle\n                        cx={center}\n                        cy={center}\n                        r={radius}\n                        stroke=\"currentColor\"\n                        strokeWidth={strokeWidth}\n                        fill=\"none\"\n                        className={progressColor}\n                        strokeDasharray={strokeDasharray}\n                        strokeLinecap=\"round\"\n                    />\n                </svg>\n                <span className=\"absolute inset-0 flex items-center justify-center text-xs font-medium\">\n                    {progress}%\n                </span>\n            </div>\n        </div>\n    );\n};\n\nexport default ProgressCircle;","import React from \"react\";\n\ninterface ProgressDropdownProps {\n    isOpen: boolean;\n    onToggle: () => void;\n    completedUnits: number;\n    totalUnits: number;\n}\n\n\n\n// ProgressDropdown Component\nconst ProgressDropdown: React.FC<ProgressDropdownProps> = ({\n    isOpen,\n    onToggle,\n    completedUnits,\n    totalUnits\n}) => {\n    return (\n        <div className=\"relative\">\n            <button\n                onClick={onToggle}\n                className=\"flex items-center gap-2 px-4 py-2 hover:bg-gray-700 rounded-md transition-colors\"\n            >\n                <span>Progress</span>\n                <svg\n                    className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`}\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n            </button>\n            {isOpen && (\n                <div className=\"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg z-50\">\n                    <div className=\"p-4\">\n                        <div className=\"space-y-4\">\n                            <div>\n                                <h3 className=\"text-sm font-medium text-gray-900\">Course Progress</h3>\n                                <p className=\"text-sm text-gray-600\">\n                                    {completedUnits} of {totalUnits} units completed\n                                </p>\n                            </div>\n                            <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                                <div\n                                    className=\"bg-green-500 h-2.5 rounded-full transition-all duration-300\"\n                                    style={{ width: `${(completedUnits / totalUnits) * 100}%` }}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n\n}\n\nexport default ProgressDropdown","import { useDispatch } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport React, { useState } from 'react';\nimport { useTypedSelect } from '../../store';\nimport ReviewModal from '../review/ReviewModal';\nimport ProgressCircle from './ProgressCircle';\nimport ProgressDropdown from './ProgressDropdown';\n\ninterface TopBarProps {\n    onToggleSidebar: () => void;\n    isSidebarOpen: boolean;\n}\nexport default function TopBar({ onToggleSidebar }: TopBarProps) {\n    const [isProgressOpen, setIsProgressOpen] = useState(false);\n\n    const {\n        courseId,\n        totalUnits,\n        completedUnits,\n        progress,\n        reviewModalOpen,\n    } = useTypedSelect((select) => ({\n        courseId: select.getCourseId(),\n        totalUnits: select.getAllUnits(),\n        completedUnits: select.getCompletedUnits(),\n        reviewModalOpen: select.getReviewModalOpen(),\n        progress: select.getProgress(),\n    }));\n\n    const courseTitle = useTypedSelect((select) => select.getCourseTitle());\n    const { reviewLoading, review } = useTypedSelect((select) => {\n        if (courseId) {\n            return {\n                reviewLoading: select.isLoadingReview(courseId),\n                review: select.getCourseReview(courseId),\n            }\n        }\n        return {\n            reviewLoading: false,\n            review: null\n        }\n    }, [courseId]);\n    console.log({ courseTitle, totalUnits, completedUnits, review, reviewLoading, progress });\n\n    // dispatch\n    const dispatch = useDispatch();\n\n    const setReviewModalOpen = (open: boolean) => {\n        dispatch('custom-course-player').setReviewModalOpen(open);\n    };\n    const hasReview = useMemo(() => {\n        return review?.comment_ID !== undefined;\n    }, [review]);\n    return (\n        <>\n            <div className=\"fixed top-0 left-0 right-0 bg-gray-800 text-white z-50\">\n                <div className=\"h-16 px-4 flex items-center justify-between\">\n                    {/* Left section */}\n                    <div className=\"flex items-center gap-4\">\n                        <h1 className=\"text-xl font-bold truncate max-w-md text-secondary-50\">\n                            {courseTitle || ''}\n                        </h1>\n                    </div>\n\n                    {/* Right section */}\n                    <div className=\"flex items-center gap-4\">\n                        <ProgressCircle progress={progress} />\n\n                        {!hasReview && (\n                            <button\n                                onClick={() => setReviewModalOpen(true)}\n                                className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 \n                                     transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 \n                                     focus:ring-offset-2 focus:ring-offset-gray-800\"\n                                disabled={reviewLoading || false}\n                            >\n                                {reviewLoading ? 'Loading...' : 'Leave a Review'}\n                            </button>\n                        )}\n\n                        <ProgressDropdown\n                            isOpen={isProgressOpen}\n                            onToggle={() => setIsProgressOpen(!isProgressOpen)}\n                            completedUnits={completedUnits?.length ?? 0}\n                            totalUnits={totalUnits?.length ?? 0}\n                        />\n\n                        <button\n                            onClick={onToggleSidebar}\n                            className=\"p-2 hover:bg-gray-700 rounded-md transition-colors\"\n                            aria-label=\"Toggle sidebar\"\n                        >\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth={2}\n                                    d=\"M4 6h16M4 12h16M4 18h16\"\n                                />\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n\n                {/* Progress bar */}\n                <div className=\"h-1 bg-gray-700\">\n                    <div\n                        className=\"h-full bg-green-500 transition-all duration-500\"\n                        style={{ width: `${progress}%` }}\n                    />\n                </div>\n            </div>\n\n            {/* Review Modal */}\n            {reviewModalOpen && <ReviewModal\n                isOpen={Boolean(!reviewLoading && reviewModalOpen)}\n                onClose={() => setReviewModalOpen(false)}\n                courseId={courseId}\n                courseName={courseTitle}\n                progress={progress}\n                onReviewSuccess={() => { }}\n            />}\n\n            {/* Backdrop for progress dropdown */}\n            {isProgressOpen && (\n                <div\n                    className=\"fixed inset-0 z-20\"\n                    onClick={() => setIsProgressOpen(false)}\n                />\n            )}\n        </>\n    );\n}","import React, { useState } from 'react';\nimport { useUnitContent } from '../../hooks/useUnitContent';\nimport { useDispatch } from '@wordpress/data';\n\ninterface ContentAreaProps {\n    currentUnitId: number | null;\n    courseId: string;\n    isSidebarOpen: boolean;\n\n}\n\nconst ContentArea: React.FC<ContentAreaProps> = ({\n    currentUnitId,\n    courseId,\n    isSidebarOpen,\n}) => {\n    const { unitContent, loading, error, isLastUnit, isFirstUnit } = useUnitContent();\n    const [isHovering, setIsHovering] = useState(false);\n    const { setPreviousUnit, setNextUnit } = useDispatch('custom-course-player');\n\n    const onPrevious = () => {\n        setPreviousUnit();\n    }\n\n    const onNext = () => {\n        setNextUnit();\n    }\n\n    const renderNavigationButtons = () => (\n        <>\n            {/* Previous button */}\n            <button\n                className={`fixed top-1/2 left-4 bg-gray-800 text-white p-2 rounded-full transform -translate-y-1/2 transition-opacity duration-300  ${isHovering ? 'opacity-50 hover:opacity-100' : 'opacity-0'}`}\n                onClick={onPrevious}\n                disabled={loading || isFirstUnit}\n\n            >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                </svg>\n            </button>\n\n            {/* Next button */}\n            <button\n                className={`fixed top-1/2 right-4 bg-gray-800 text-white p-2 rounded-full transform -translate-y-1/2 transition-opacity duration-300 ${isSidebarOpen ? 'mr-[23rem]' : ''} ${isHovering ? 'opacity-50 hover:opacity-100' : 'opacity-0'}`}\n                onClick={onNext}\n                disabled={loading || isLastUnit}\n            >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                </svg>\n            </button>\n        </>\n    );\n\n    const renderContent = () => {\n        if (loading) {\n            return (\n                <div className=\"flex flex-col items-center justify-center min-h-[400px] space-y-4\">\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900\"></div>\n                    <p className=\"text-gray-600\">Loading content...</p>\n                </div>\n            );\n        }\n\n        if (error) {\n            return (\n                <div className=\"flex flex-col items-center justify-center min-h-[400px] space-y-4\">\n                    <div className=\"bg-red-50 p-6 rounded-lg text-center\">\n                        <p className=\"text-red-600 mb-4\">{error}</p>\n                        <button\n                            onClick={() => window.location.reload()}\n                            className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n                        >\n                            Retry\n                        </button>\n                    </div>\n                </div>\n            );\n        }\n\n        if (!unitContent) {\n            return (\n                <div className=\"flex items-center justify-center min-h-[400px]\">\n                    <p className=\"text-gray-600\">No content available</p>\n                </div>\n            );\n        }\n\n        return (\n            <div className='custom_course_content max-h-[600px] relative'>\n                <div\n                    className={`transition-opacity duration-300 ${loading ? 'opacity-50' : 'opacity-100'}`}\n                    dangerouslySetInnerHTML={{ __html: unitContent.content }}\n                />\n                {renderNavigationButtons()}\n            </div>\n        );\n    };\n\n    return (\n        <div\n            className={`flex-1 p-6 overflow-y-auto transition-all duration-300 relative ${isSidebarOpen ? 'mr-80' : ''}`}\n            onMouseEnter={() => setIsHovering(true)}\n            onMouseLeave={() => setIsHovering(false)}\n        >\n            <div className=\"mb-6\">\n                {loading ? (\n                    <div className=\"h-8 bg-gray-200 rounded animate-pulse w-2/3\"></div>\n                ) : (\n                    <h1 className=\"text-3xl font-bold mb-1\">{unitContent?.title}</h1>\n                )}\n            </div>\n            {renderContent()}\n        </div>\n    );\n};\n\nexport default ContentArea;","// components/CourseSections.tsx\nimport React from 'react';\nimport { useCourseSections } from '../../../hooks/useCourseSections';\nimport { formatDuration } from '../../../utilities/utility';\nimport UnitItem from './UnitItem';\nimport { useEffect, useMemo, useState } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useTypedSelect } from '../../../store';\nimport { State } from '../../../store/types';\nconst REVIEW_MILESTONES = [15, 75, 100];\n\n\ninterface CourseSectionsProps {\n    currentUnitId: number | null;\n}\n\nconst CourseSections = () => {\n    const [lastShownMilestone, setLastShownMilestone] = useState<number>(0);\n\n    const {\n        sections,\n        expandedSections,\n        toggleSection,\n        getSectionStats\n    } = useCourseSections();\n    const courseId = useTypedSelect((select) => select.getCourseId(), []);\n    const {\n        progress,\n        isCompleted,\n        completionMessage\n    } = useTypedSelect((select) => ({\n        progress: select.getProgress(),\n        isCompleted: select.isCourseCompleted(),\n\n        completionMessage: select.getCompletionMessage(),\n    }), [courseId]);\n\n    const {\n        hasReview,\n    } = useTypedSelect((select) => {\n        if (courseId) {\n            return {\n                hasReview: select.hasReview(),\n                reviewLoading: select.isLoadingReview(courseId),\n            }\n        }\n        return { hasReview: false, reviewLoading: true };\n    }, [courseId]);\n    const { setReviewModalOpen, finishCourse } = useDispatch('custom-course-player');\n    const onHandleReviewModalOpen = () => {\n        console.log({\n            courseId,\n            hasReview,\n        })\n        if (hasReview) {\n\n            return;\n        }\n        const milestone = REVIEW_MILESTONES.find(\n            (milestone) => progress >= milestone && lastShownMilestone < milestone\n        );\n\n        if (milestone) {\n            setReviewModalOpen(true);\n            setLastShownMilestone(milestone);\n        }\n    }\n    // review modal don't open initial render\n    useEffect(() => {\n\n        if (!hasReview && courseId) {\n            console.log('review modal open');\n            onHandleReviewModalOpen();\n        } else {\n            setReviewModalOpen(false);\n        }\n    }, [progress, hasReview, courseId]);\n\n    const handleFinishCourse = async () => {\n        if (courseId) {\n            await finishCourse(courseId);\n        }\n    };\n    return (\n        <div className=\"space-y-2\">\n            {!isCompleted && (\n                <div className=\"p-4 bg-green-50 rounded-lg\">\n                    <p className=\"text-sm text-green-800 mb-2\">\n                        {completionMessage}\n                    </p>\n                    <button\n                        onClick={handleFinishCourse}\n                        className=\"w-full py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors\"\n                    >\n                        Complete Course\n                    </button>\n                </div>\n            )}\n            {isCompleted && (\n                <div className=\"p-4 bg-green-100 rounded-lg\">\n                    <p className=\"text-sm text-green-800\">\n                         Congratulations! You've completed this course.\n                    </p>\n                </div>\n            )}\n            {sections.map((section, index) => {\n                const stats = getSectionStats(section);\n                const isExpanded = expandedSections.includes(index);\n\n                return (\n                    <div key={section.key}\n                        className={`border rounded-lg transition-colors border-gray-200`}>\n                        {/* Section Header */}\n                        <button\n                            className={`w-full flex items-center justify-between p-4 text-left\n                         transition-colors rounded-t-lg\n                         ${isExpanded ? 'bg-gray-50' : 'hover:bg-gray-50'}\n                         ${stats.isComplete ? 'bg-primary-50 hover:bg-primary-100' : ''}`}\n                            onClick={() => toggleSection(index)}\n                        >\n                            <div className=\"flex-grow\">\n                                <div className=\"flex items-center gap-2\">\n                                    <h3 className=\"font-semibold text-gray-900 text-[1rem] \">{section.title}</h3>\n\n                                </div>\n                                <p className=\"text-sm text-gray-500\">\n                                    {stats.completedUnits}/{stats.totalUnits} lessons  {formatDuration(stats.totalDuration)} m\n                                </p>\n                            </div>\n                            <svg\n                                className={`w-5 h-5 text-gray-500 transition-transform ${isExpanded ? 'rotate-180' : ''}`}\n                                fill=\"none\"\n                                stroke=\"currentColor\"\n                                viewBox=\"0 0 24 24\"\n                            >\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                            </svg>\n                        </button>\n\n                        {/* Units */}\n                        {isExpanded && (\n                            <div className=\"border-t border-gray-200\">\n                                {section.units.map((unit) => (\n                                    <UnitItem\n                                        key={unit.id}\n                                        unit={unit}\n                                    />\n                                ))}\n                            </div>\n                        )}\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n\nexport default CourseSections;","import React from 'react';\nimport { SidebarHeaderProps } from './types';\n\nconst SidebarHeader: React.FC<SidebarHeaderProps> = ({ title, onToggle }) => (\n    <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-xl font-bold text-gray-800\">{title}</h2>\n        <button className=\"text-gray-500 hover:text-gray-700\" onClick={onToggle}>\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n        </button>\n    </div>\n);\n\nexport default SidebarHeader;","import React from 'react';\nimport { SidebarProgressProps } from './types';\nimport { useSelect } from '@wordpress/data';\nimport { useTypedSelect } from '../../../store';\nimport { State } from '../../../store/types';\n\nconst SidebarProgress = () => {\n    const { totalLectures, totalDuration, completedLectures } = useTypedSelect((select) => ({\n        totalLectures: select.getAllUnits()?.length,\n        totalDuration: select.getCourseTotalDuration(),\n        completedLectures: select.getCompletedUnits()?.length\n    }));\n\n    return (\n        <div className=\"mb-4\">\n            <div className=\"text-sm text-gray-600\">\n                {totalLectures} lectures  {totalDuration ? totalDuration / 60 : 0}m total duration\n            </div>\n            <div className=\"mt-2 h-1 bg-gray-200 rounded-full\">\n                <div\n                    className=\"h-full bg-blue-500 rounded-full\"\n                    style={{ width: `${((completedLectures ?? 0) / (totalLectures ?? 1)) * 100}%` }}\n                ></div>\n            </div>\n        </div>\n    );\n}\n\nexport default SidebarProgress;","import React, { useState, useEffect } from 'react';\nimport { UnitItemProps } from './types';\nimport { formatDuration } from '../../../utilities/utility';\nimport { useCallback } from '@wordpress/element';\nimport { useTypedSelect } from '../../../store';\nimport { State } from '../../../store/types';\nimport { useDispatch } from '@wordpress/data';\nconst UnitItem: React.FC<UnitItemProps> = ({ unit }) => {\n    console.log('unit', unit);\n    const { markUnitComplete, setCurrentUnit } = useDispatch('custom-course-player');\n    const [isUnitComplete, setIsUnitComplete] = useState(unit?.status ?? 0);\n    const { currentUnitId, courseId } = useTypedSelect((select) => ({\n        currentUnitId: select.getCurrentUnitId(),\n        courseId: select.getCourseId(),\n    }), []);\n    const handleSelectUnit = (id: number) => {\n        setCurrentUnit(id);\n    };\n\n    const { completedDuration, courseTotalDuration } = useTypedSelect((select) => ({\n        completedDuration: select.getCompletedDuration(),\n        courseTotalDuration: select.getCourseTotalDuration(),\n    }), []);\n\n    const unitCompletedProgress = useCallback(() => {\n        if (unit.duration && courseTotalDuration && completedDuration !== null) {\n            return Math.round(((completedDuration + unit.duration) / courseTotalDuration) * 100);\n        }\n        return 0;\n    }, [completedDuration, unit.duration, courseTotalDuration]);\n\n    const onHandleCompleteUnit = async (unitId: number) => {\n        try {\n            await markUnitComplete({\n                courseId,\n                unitId,\n                progress: unitCompletedProgress(),\n            });\n            setIsUnitComplete(1);\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    return (\n        <div\n            className={`flex items-center p-4 cursor-pointer transition-colors\n                               ${currentUnitId === unit.id ? 'bg-blue-50' : 'hover:bg-gray-50'}\n                               ${unit.status === 1 ? 'opacity-75' : ''}`}\n            onClick={() => handleSelectUnit(unit.id)}\n        >\n            {/* Status Icon */}\n            <div className=\"flex-shrink-0 mr-3\">\n                {isUnitComplete === 1 ? (\n                    <svg className=\"w-5 h-5 text-green-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\"\n                            d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\n                            clipRule=\"evenodd\"\n                        />\n                    </svg>\n                ) : (\n                    <div className=\"w-5 h-5 border-2 border-gray-300 rounded-full cursor-pointer\" onClick={(e) => {\n                        e.stopPropagation();\n                        onHandleCompleteUnit(unit.id);\n                    }} />\n                )}\n            </div>\n\n            {/* Unit Info */}\n            <div className=\"flex-grow\">\n                <h4 className={`text-sm ${currentUnitId === unit.id ? 'font-medium' : ''}`}>\n                    {unit.title}\n                </h4>\n                <div className=\"flex items-center text-xs text-gray-500 mt-1\">\n                    {unit.icon && <span className={`${unit.icon} mr-1`} />}\n                    <span>{formatDuration(unit.duration)} m</span>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default UnitItem;","import { useDispatch, useSelect } from '@wordpress/data';\nimport React from 'react';\nimport CourseSections from './CourseSections';\nimport SidebarHeader from './SidebarHeader';\nimport SidebarProgress from './SidebarProgress';\nimport { SidebarProps } from './types';\nimport { calculateTotalDuration, calculateTotalLectures } from './utils';\nimport { useTypedSelect } from '../../../store';\nimport { State } from '../../../store/types';\n\nconst Sidebar: React.FC<SidebarProps> = ({ isOpen, onToggle }) => {\n\n\n    return (\n        <div className={`fixed top-0 right-0 w-[24rem] bg-white border-l border-gray-200 h-full transform \n        ${isOpen ? 'translate-x-0' : 'translate-x-full'} transition-transform duration-300 ease-in-out z-10`}>\n            <div className=\"h-full overflow-y-auto pt-16\">\n                <div className=\"p-4\">\n                    <SidebarHeader title=\"Course content\" onToggle={onToggle} />\n                    <SidebarProgress\n\n                    />\n                    <CourseSections\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Sidebar;","import React from \"react\";\n\ninterface StarIconProps {\n    filled: boolean;\n}\n\nexport const StarIcon = ({ filled }: StarIconProps) => (\n    <svg\n        className={`w-8 h-8 ${filled ? 'text-yellow-400' : 'text-gray-300'}`}\n        fill={filled ? 'currentColor' : 'none'}\n        stroke=\"currentColor\"\n        viewBox=\"0 0 24 24\"\n        strokeWidth=\"1.5\"\n    >\n        <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n        />\n    </svg>\n);\n","import React from 'react';\nimport { StarIcon } from '../icons/StartIcon';\n\ninterface RatingStarsProps {\n    rating: number;\n    onRatingChange: (value: number) => void;\n}\n\nexport const RatingStars = ({ rating, onRatingChange }: RatingStarsProps) => (\n    <div className=\"flex items-center gap-1 mb-6\">\n        {[1, 2, 3, 4, 5].map((value) => (\n            <button\n                key={value}\n                onClick={() => onRatingChange(value)}\n                className=\"bg-transparent transition-transform hover:scale-110\"\n                aria-label={`Rate ${value} stars`}\n            >\n                <StarIcon filled={value <= rating} />\n            </button>\n        ))}\n    </div>\n);\n","import React from 'react';\nimport { RatingStars } from './RatingStars';\n\ninterface ReviewFormProps {\n    rating: number;\n    review: string;\n    error: string;\n    isLoading: boolean;\n    onRatingChange: (value: number) => void;\n    onReviewChange: (value: string) => void;\n    onSubmit: () => void;\n}\n\nexport const ReviewForm: React.FC<ReviewFormProps> = ({\n    rating,\n    review,\n    error,\n    isLoading,\n    onRatingChange,\n    onReviewChange,\n    onSubmit\n}) => (\n    <>\n        <RatingStars rating={rating} onRatingChange={onRatingChange} />\n        <textarea\n            value={review}\n            onChange={(e) => onReviewChange(e.target.value)}\n            placeholder=\"Share your thoughts about this course...\"\n            className=\"w-full h-32 p-3 border rounded-md mb-4 focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none\"\n            maxLength={500}\n            disabled={isLoading}\n        />\n        {error && (\n            <div className=\"mb-4 text-red-600 p-3 bg-red-50 rounded-md\">\n                {error}\n            </div>\n        )}\n        <div className=\"flex justify-between items-center\">\n            <span className=\"text-sm text-gray-500\">\n                {500 - review.length} characters remaining\n            </span>\n            <button\n                onClick={onSubmit}\n                className=\"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 \n                 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                disabled={review.length < 10 || isLoading}\n            >\n                {isLoading ? 'Submitting...' : 'Submit Review'}\n            </button>\n        </div>\n    </>\n);\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from '@wordpress/data';\nimport { ReviewForm } from './ReviewForm';\nimport { SuccessMessage } from './SuccessMessage';\nimport { useTypedSelect } from '../../store';\nimport { State } from '../../store/types';\n\ninterface ReviewModalProps {\n    isOpen: boolean;\n    courseId: number | null;\n    onClose: () => void;\n    progress: number;\n    courseName?: string | null;\n    onReviewSuccess?: () => void;\n}\n\nexport default function ReviewModal({\n    isOpen,\n    courseId,\n    onClose,\n    progress,\n    courseName = \"Course\",\n    onReviewSuccess\n}: ReviewModalProps) {\n    const [rating, setRating] = useState(5);\n    const [review, setReview] = useState('');\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState(false);\n    const dispatch = useDispatch();\n\n    const { userInfo, currentReview, isLoading } = useTypedSelect((select) => ({\n        userInfo: select.getUserInfo(),\n        currentReview: select.getCourseReview(courseId || 0),\n        isLoading: select.isLoadingUserInfo(),\n    }), [courseId]);\n\n\n    useEffect(() => {\n        if (currentReview) {\n            setRating(currentReview.rating || 5);\n            setReview(currentReview.content || '');\n        }\n    }, [currentReview]);\n\n    const handleSubmit = async () => {\n        if (review.length < 10) {\n            setError('Please write a more detailed review (minimum 10 characters)');\n            return;\n        }\n\n        try {\n            await dispatch('custom-course-player').submitCourseReview({\n                rating,\n                review,\n                courseId: courseId || 0\n            });\n\n            setSuccess(true);\n            setTimeout(() => {\n                onClose();\n                onReviewSuccess?.();\n            }, 2000);\n        } catch (err) {\n            setError('Failed to submit review. Please try again later.');\n        }\n    };\n    console.log('isOpen', isOpen);\n    if (!isOpen) return null;\n    return (\n        <div\n            className=\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4\"\n            onClick={onClose}\n        >\n            <div\n                className=\"bg-white rounded-lg max-w-lg w-full p-6 shadow-xl\"\n                onClick={e => e.stopPropagation()}\n            >\n                <div className=\"flex justify-between items-start mb-6\">\n                    <div>\n                        <h2 className=\"text-2xl font-bold text-gray-800\">\n                            Share Your Experience\n                        </h2>\n                        <p className=\"text-gray-600 mt-2\">{courseName}</p>\n                    </div>\n                    <button\n                        onClick={onClose}\n                        className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n                        aria-label=\"Close modal\"\n                    >\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"\n                                d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                    </button>\n                </div>\n\n                {userInfo?.avatar && (\n                    <div className=\"flex items-center gap-3 mb-6\">\n                        <img\n                            src={userInfo.avatar}\n                            alt={userInfo.name || 'User avatar'}\n                            className=\"w-10 h-10 rounded-full\"\n                        />\n                        <span className=\"font-medium text-gray-700\">\n                            {userInfo.name || 'Anonymous'}\n                        </span>\n                    </div>\n                )}\n\n                {success ? (\n                    <SuccessMessage />\n                ) : (\n                    <ReviewForm\n                        rating={rating}\n                        review={review}\n                        error={error}\n                        onRatingChange={setRating}\n                        onReviewChange={setReview}\n                        onSubmit={handleSubmit}\n                        isLoading={isLoading} />\n                )}\n            </div>\n        </div>\n    );\n}","import React from \"react\";\n\nexport const SuccessMessage = () => (\n    <div className=\"text-center py-8\">\n        <div className=\"mb-4 text-green-500\">\n            <svg className=\"w-16 h-16 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"\n                    d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n        </div>\n        <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">\n            Thank you for your review!\n        </h3>\n        <p className=\"text-gray-600\">\n            Your feedback helps improve the course for future students.\n        </p>\n    </div>\n);\n","// hooks/useCourseSections.ts\nimport { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { IUnit } from \"../types/course\";\nimport { useSelect } from \"@wordpress/data\";\nimport { useTypedSelect } from \"../store\";\nimport { State } from \"../store/types\";\n\ninterface Section {\n  id: number;\n  key: number;\n  title: string;\n  units: IUnit[];\n}\n\nexport const useCourseSections = () => {\n  const courseId = useTypedSelect((select) => select.getCourseId(), []);\n\n  const [expandedSections, setExpandedSections] = useState<number[]>([]);\n  const { items, currentUnitId } = useTypedSelect(\n    (select) => {\n      if (courseId) {\n        return {\n          items: select.getCourseInfo(courseId)?.courseitems || [],\n          currentUnitId: select.getCurrentUnitId(),\n        };\n      }\n      return { items: [], currentUnitId: null };\n    },\n    [courseId]\n  );\n\n  // Organize sections and find initial expanded section\n  const { sections, initialExpandedSection } = useMemo(() => {\n    const organizedSections: Section[] = [];\n    let currentSection: Section | null = null as Section | null;\n    let sectionWithCurrentUnit = -1;\n\n    items?.forEach((item: IUnit) => {\n      if (item.type === \"section\") {\n        if (currentSection) {\n          organizedSections.push(currentSection);\n        }\n        currentSection = {\n          id: item.id,\n          key: item.key,\n          title: item.title,\n          units: [],\n        };\n      } else if (item.type === \"unit\" && currentSection) {\n        currentSection.units.push(item);\n        // Check if this unit is the current one\n        if (item.id === currentUnitId) {\n          sectionWithCurrentUnit = organizedSections.length;\n        }\n      }\n    });\n\n    // Add the last section\n    if (currentSection) {\n      organizedSections.push(currentSection);\n      // Check last section for current unit if not found yet\n      if (\n        sectionWithCurrentUnit === -1 &&\n        currentSection.units.some((unit) => unit.id === currentUnitId)\n      ) {\n        sectionWithCurrentUnit = organizedSections.length - 1;\n      }\n    }\n\n    return {\n      sections: organizedSections,\n      initialExpandedSection: sectionWithCurrentUnit,\n    };\n  }, [items, currentUnitId]);\n\n  // Set initial expanded section when sections are first loaded\n  useEffect(() => {\n    if (initialExpandedSection !== -1) {\n      setExpandedSections((prev) => {\n        if (!prev.includes(initialExpandedSection)) {\n          return [...prev, initialExpandedSection];\n        }\n        return prev;\n      });\n    }\n  }, [initialExpandedSection]);\n\n  // Update expanded sections when current unit changes\n  useEffect(() => {\n    if (currentUnitId) {\n      const sectionIndex = sections.findIndex((section) =>\n        section.units.some((unit) => unit.id === currentUnitId)\n      );\n\n      if (sectionIndex !== -1 && !expandedSections.includes(sectionIndex)) {\n        setExpandedSections((prev) => [...prev, sectionIndex]);\n      }\n    }\n  }, [currentUnitId, sections]);\n\n  const toggleSection = useCallback((sectionIndex: number) => {\n    setExpandedSections((prev) =>\n      prev.includes(sectionIndex)\n        ? prev.filter((index) => index !== sectionIndex)\n        : [...prev, sectionIndex]\n    );\n  }, []);\n\n  const isSectionExpanded = useCallback(\n    (sectionIndex: number) => {\n      return expandedSections.includes(sectionIndex);\n    },\n    [expandedSections]\n  );\n\n  const getSectionStats = useCallback((section: Section) => {\n    const totalUnits = section.units.length;\n    const completedUnits = section.units.filter(\n      (unit) => unit.status === 1\n    ).length;\n    const totalDuration = section.units.reduce(\n      (acc, unit) => acc + unit.duration,\n      0\n    );\n\n    return {\n      totalUnits,\n      completedUnits,\n      totalDuration,\n      isComplete: totalUnits === completedUnits && totalUnits > 0,\n    };\n  }, []);\n\n  return {\n    sections,\n    expandedSections,\n    toggleSection,\n    isSectionExpanded,\n    getSectionStats,\n  };\n};\n","import { useState, useEffect } from \"react\";\nimport { useSelect } from \"@wordpress/data\";\nimport { IUnitItem } from \"../types/course\";\nimport { fetchUnitContent } from \"../utilities/apiCall\";\nimport { useTypedSelect } from \"../store\";\nconst userAuthToken = (window as any).wplmsCustomCoursePlayer.token;\nexport const useUnitContent = () => {\n  const { courseId, currentUnitId, allUnits } = useTypedSelect((select) => ({\n    courseId: select.getCourseId(),\n    currentUnitId: select.getCurrentUnitId(),\n    allUnits: select.getAllUnits(),\n  }));\n  const [unitContent, setUnitContent] = useState<IUnitItem | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isLastUnit, setIsLastUnit] = useState(false);\n  const [isFirstUnit, setIsFirstUnit] = useState(false);\n  const fetchContent = async () => {\n    setUnitContent(null);\n    setLoading(false);\n    try {\n      if (!courseId || !currentUnitId) {\n        return;\n      }\n      setLoading(true);\n      const data = await fetchUnitContent({\n        courseId: courseId,\n        unitId: currentUnitId,\n        token: userAuthToken,\n      });\n      setUnitContent(data ?? null);\n      setIsLastUnit(\n        allUnits ? currentUnitId === allUnits[allUnits.length - 1].id : false\n      );\n      setIsFirstUnit(allUnits ? currentUnitId === allUnits[0].id : false);\n      setError(null);\n    } catch (err) {\n      console.log(err);\n      setError(err instanceof Error ? err.message : String(err));\n      setUnitContent(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (userAuthToken && courseId && currentUnitId) {\n      fetchContent();\n    }\n  }, [courseId, currentUnitId, userAuthToken]);\n\n  return {\n    unitContent,\n    loading,\n    error,\n    isLastUnit,\n    isFirstUnit,\n  };\n};\n","import apiFetch from \"@wordpress/api-fetch\";\nimport { ICourse } from \"../types/course\";\nimport { actionTypes } from \"./const\";\nimport resolvers from \"./resolvers\";\nimport { fetchCourseData, submitCourseReview } from \"../utilities/apiCall\";\n\ninterface ReviewResponse {\n  comment_id?: number;\n  [key: string]: any;\n}\n\nexport const actions = {\n  // Simple synchronous action creators\n  setCourseInfo(courseInfo: ICourse) {\n    return {\n      type: actionTypes.SET_COURSE_INFO,\n      payload: courseInfo,\n    };\n  },\n\n  setUserInfo(userInfo: any) {\n    return {\n      type: actionTypes.SET_USER_INFO,\n      payload: userInfo,\n    };\n  },\n\n  setCourseInfoLoading(isLoading: boolean) {\n    return {\n      type: actionTypes.SET_REVIEW_LOADING,\n      payload: isLoading,\n    };\n  },\n\n  setCourseReviewError(error: string) {\n    return {\n      type: actionTypes.SET_REVIEW_ERROR,\n      payload: error,\n    };\n  },\n\n  setCourseReview(review: any) {\n    return {\n      type: actionTypes.SET_COURSE_REVIEW,\n      payload: review,\n    };\n  },\n\n  setLoading(isLoading: boolean) {\n    return {\n      type: actionTypes.SET_IS_LOADING,\n      payload: isLoading,\n    };\n  },\n\n  setError(error: string) {\n    return {\n      type: actionTypes.SET_ERROR,\n      payload: error,\n    };\n  },\n\n  setNextUnit() {\n    return {\n      type: actionTypes.NEXT_UNIT,\n    };\n  },\n\n  setPreviousUnit() {\n    return {\n      type: actionTypes.PREV_UNIT,\n    };\n  },\n\n  setCurrentUnit(unitId: number) {\n    return {\n      type: actionTypes.SET_CURRENT_UNIT,\n      payload: unitId,\n    };\n  },\n\n  setProgress(progress: number) {\n    return {\n      type: actionTypes.SET_PROGRESS,\n      payload: progress,\n    };\n  },\n  setReviewModalOpen(isOpen: boolean) {\n    return {\n      type: actionTypes.SET_REVIEW_MODAL_OPEN,\n      payload: isOpen,\n    };\n  },\n  // Thunks for handling user actions\n  submitCourseReview:\n    ({\n      rating,\n      review,\n      courseId,\n    }: {\n      rating: number;\n      review: string;\n      courseId: number;\n    }) =>\n    async ({ dispatch }: { dispatch: any }) => {\n      try {\n        dispatch(actions.setLoading(true));\n        const token = (window as any).wplmsCustomCoursePlayer.token;\n\n        const response = (await submitCourseReview({\n          token,\n          comment_post_ID: courseId,\n          rating,\n          review,\n        })) as ReviewResponse;\n        if (response?.comment_id) {\n          dispatch(actions.setHasReview(true));\n        }\n        dispatch(actions.setCourseReview(response));\n        dispatch(actions.setReviewModalOpen(false));\n        dispatch(actions.setLoading(false));\n      } catch (error) {\n        dispatch(\n          actions.setError(\n            error instanceof Error ? error.message : String(error)\n          )\n        );\n        dispatch(actions.setLoading(false));\n      }\n    },\n\n  markUnitComplete:\n    ({\n      courseId,\n      unitId,\n      progress,\n    }: {\n      courseId: number;\n      unitId: number;\n      progress: number;\n    }) =>\n    async ({ dispatch }: { dispatch: any }) => {\n      try {\n        dispatch(actions.setLoading(true));\n        const token = (window as any).wplmsCustomCoursePlayer.token;\n\n        await apiFetch({\n          path: `/wplms/v2/user/coursestatus/${courseId}/item/${unitId}/markcomplete`,\n          method: \"POST\",\n          data: { token, course_id: courseId, item_id: unitId, progress },\n        });\n\n        dispatch(actions.setProgress(progress));\n        dispatch(actions.setLoading(false));\n      } catch (error) {\n        dispatch(\n          actions.setError(\n            error instanceof Error ? error.message : String(error)\n          )\n        );\n        dispatch(actions.setLoading(false));\n      }\n    },\n\n  // fetch course actions\n  fetchCourse:\n    (courseId: string) =>\n    async ({ dispatch }: { dispatch: any }) => {\n      try {\n        dispatch(actions.setLoading(true));\n        const token = (window as any).wplmsCustomCoursePlayer.token;\n        const response = await fetchCourseData({ courseId, token });\n\n        dispatch(actions.setCourseInfo(response));\n        dispatch(actions.setLoading(false));\n        dispatch(actions.setError(\"\"));\n      } catch (error) {\n        dispatch(\n          actions.setError(\n            error instanceof Error ? error.message : String(error)\n          )\n        );\n        dispatch(actions.setLoading(false));\n      }\n    },\n  setHasReview(hasReview: boolean) {\n    return {\n      type: actionTypes.SET_HAS_REVIEW,\n      payload: hasReview,\n    };\n  },\n};\n","// const.ts\nexport const actionTypes = {\n  SET_COURSE_ID: \"SET_COURSE_ID\",\n  SET_PROGRESS: \"SET_PROGRESS\",\n  SET_CURRENT_UNIT: \"SET_CURRENT_UNIT\",\n  SET_IS_LOADING: \"SET_IS_LOADING\",\n  SET_ERROR: \"SET_ERROR\",\n  SET_COURSE_INFO: \"SET_COURSE_INFO\",\n  FETCH_COURSE_DATA: \"FETCH_COURSE_DATA\",\n  NEXT_UNIT: \"NEXT_UNIT\",\n  PREV_UNIT: \"PREV_UNIT\",\n  SET_USER_INFO: \"SET_USER_INFO\",\n  FETCH_USER_INFO: \"FETCH_USER_INFO\",\n  MARK_UNIT_COMPLETE: \"MARK_UNIT_COMPLETE\",\n  GET_COURSE_PROGRESS: \"GET_COURSE_PROGRESS\",\n  UNIT_COMPLETE_BY_ID: \"UNIT_COMPLETE_BY_ID\",\n  FETCH_COURSE_REVIEW: \"FETCH_COURSE_REVIEW\",\n  SUBMIT_COURSE_REVIEW: \"SUBMIT_COURSE_REVIEW\",\n  SET_COURSE_REVIEW: \"SET_COURSE_REVIEW\",\n  SET_REVIEW_LOADING: \"SET_REVIEW_LOADING\",\n  SET_REVIEW_ERROR: \"SET_REVIEW_ERROR\",\n  SET_REVIEW_MODAL_OPEN: \"SET_REVIEW_MODAL_OPEN\",\n  FINISH_COURSE: \"FINISH_COURSE\",\n  SET_COURSE_COMPLETED: \"SET_COURSE_COMPLETED\",\n  SET_COMPLETION_MESSAGE: \"SET_COMPLETION_MESSAGE\",\n  SET_HAS_REVIEW: \"SET_HAS_REVIEW\",\n};\n","// index.ts\nimport {\n  createReduxStore,\n  register,\n  useDispatch,\n  useSelect,\n} from \"@wordpress/data\";\nimport { actions } from \"./actions\";\nimport { reducer } from \"./reducer\";\nimport { SelectorReturnTypes, selectors } from \"./selectors\";\nimport resolvers from \"./resolvers\";\n\nconst coursePlayerStore = createReduxStore(\"custom-course-player\", {\n  reducer,\n  actions,\n  selectors,\n  resolvers,\n});\n\nregister(coursePlayerStore);\n\nexport default coursePlayerStore;\n\nexport function useTypedSelect<T>(\n  selector: (select: SelectorReturnTypes) => T,\n  deps: any[] = []\n): T {\n  return useSelect((select) => selector(select(coursePlayerStore.name)), deps);\n}\n\nexport function useTypedDispatch<T>(\n  action: (dispatch: typeof actions) => T\n): T {\n  return useDispatch(coursePlayerStore.name)(action);\n}\n","// reducer.ts\nimport { IUnit } from \"../types/course\";\nimport { State } from \"./types\";\nimport { actionTypes } from \"./const\";\n\nexport const DEFAULT_STATE: State = {\n  token: null,\n  courseId: null,\n  courseInfo: null,\n  progress: 0,\n  currentUnitId: null,\n  allUnits: null,\n  isLoading: true,\n  error: null,\n  userInfo: null,\n  review: null,\n  reviewLoading: true,\n  hasReview: false,\n  reviewError: null,\n  reviewModalOpen: false,\n  courseTotalDuration: null,\n  completedDuration: null,\n  isCompleted: false,\n  completionMessage: null,\n};\n\n// Helper functions to improve readability and reusability\nconst calculateCourseMetrics = (units: IUnit[]) => {\n  const courseTotalDuration = units.reduce(\n    (sum, unit) => sum + (unit.duration || 0),\n    0\n  );\n  const completedUnits = units.filter((unit) => unit.status === 1);\n  const completedDuration = completedUnits.reduce(\n    (sum, unit) => sum + (unit.duration || 0),\n    0\n  );\n  const progress = Math.round((completedDuration / courseTotalDuration) * 100);\n\n  return {\n    courseTotalDuration,\n    completedDuration,\n    progress,\n    isCompleted: progress >= 100,\n  };\n};\n\nexport const reducer = (state = DEFAULT_STATE, action: any): State => {\n  switch (action.type) {\n    case actionTypes.SET_COURSE_INFO: {\n      const allUnits = action.payload.courseitems.filter(\n        (item: IUnit) => item.type !== \"section\"\n      );\n      const currentUnitId = allUnits.find(\n        (unit: IUnit) => unit.key === action.payload.current_unit_key\n      )?.id;\n      const metrics = calculateCourseMetrics(allUnits);\n\n      return {\n        ...state,\n        courseInfo: action.payload,\n        courseId: action.payload.course_id,\n        allUnits,\n        currentUnitId,\n        ...metrics,\n      };\n    }\n\n    case actionTypes.SET_USER_INFO:\n      return {\n        ...state,\n        userInfo: action.payload,\n      };\n\n    case actionTypes.SET_CURRENT_UNIT:\n      return {\n        ...state,\n        currentUnitId: action.payload,\n      };\n\n    case actionTypes.SET_PROGRESS:\n      return {\n        ...state,\n        progress: action.payload,\n      };\n\n    case actionTypes.SET_IS_LOADING:\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n\n    case actionTypes.SET_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n        isLoading: false,\n      };\n\n    case actionTypes.SET_COURSE_REVIEW:\n      return {\n        ...state,\n        review: action.payload,\n        reviewLoading: false,\n        reviewError: null,\n        hasReview: action.payload.comment_ID ? true : false,\n      };\n\n    case actionTypes.SET_REVIEW_LOADING:\n      return {\n        ...state,\n        reviewLoading: action.payload,\n      };\n\n    case actionTypes.SET_REVIEW_ERROR:\n      return {\n        ...state,\n        reviewError: action.payload,\n        reviewLoading: false,\n      };\n\n    case actionTypes.SET_REVIEW_MODAL_OPEN:\n      return {\n        ...state,\n        reviewModalOpen: action.payload,\n      };\n\n    case actionTypes.SET_COURSE_COMPLETED:\n      return {\n        ...state,\n        isCompleted: action.payload,\n      };\n\n    case actionTypes.SET_COMPLETION_MESSAGE:\n      return {\n        ...state,\n        completionMessage: action.payload,\n      };\n\n    case actionTypes.MARK_UNIT_COMPLETE: {\n      const updatedUnits =\n        state.allUnits?.map((unit) =>\n          unit.id === action.payload.unitId ? { ...unit, status: 1 } : unit\n        ) || null;\n      if (updatedUnits) {\n        const metrics = calculateCourseMetrics(updatedUnits as IUnit[]);\n        return {\n          ...state,\n          allUnits: updatedUnits,\n          ...metrics,\n        };\n      }\n\n      return state;\n    }\n\n    case actionTypes.NEXT_UNIT: {\n      const currentIndex =\n        state.allUnits?.findIndex((unit) => unit.id === state.currentUnitId) ??\n        -1;\n      const nextUnit = state.allUnits?.[currentIndex + 1];\n\n      return {\n        ...state,\n        currentUnitId: nextUnit ? nextUnit.id : state.currentUnitId,\n      };\n    }\n\n    case actionTypes.PREV_UNIT: {\n      const currentIndex =\n        state.allUnits?.findIndex((unit) => unit.id === state.currentUnitId) ??\n        -1;\n      const prevUnit = state.allUnits?.[currentIndex - 1];\n\n      return {\n        ...state,\n        currentUnitId: prevUnit ? prevUnit.id : state.currentUnitId,\n      };\n    }\n\n    case actionTypes.SET_HAS_REVIEW:\n      return {\n        ...state,\n        hasReview: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n","import apiFetch from \"@wordpress/api-fetch\";\nimport { actions } from \"./actions\";\nimport { ICourse } from \"../types/course\";\nimport { fetchCourseData, getUserInfo } from \"../utilities/apiCall\";\n\nconst resolvers = {\n  async getCourseInfo(courseId: string) {\n    try {\n      actions.setLoading(true);\n      const token = (window as any).wplmsCustomCoursePlayer.token;\n      const response = await fetchCourseData({ courseId, token });\n      actions.setError(\"\");\n      return actions.setCourseInfo(response);\n    } catch (error) {\n      return actions.setError(\n        error instanceof Error ? error.message : String(error)\n      );\n    }\n  },\n\n  async getCourseReview(courseId: number) {\n    try {\n      const token = (window as any).wplmsCustomCoursePlayer.token;\n      const response = await apiFetch<any>({\n        path: `/wplms/v2/user/getreview/${courseId}`,\n        method: \"POST\",\n        data: { token, course_id: courseId },\n      });\n      console.log({ response });\n\n      return actions.setCourseReview(response);\n    } catch (error) {\n      return actions.setCourseReviewError(\n        error instanceof Error ? error.message : String(error)\n      );\n    }\n  },\n\n  async getUserInfo() {\n    try {\n      const token = (window as any).wplmsCustomCoursePlayer.token;\n      const response = await getUserInfo(token);\n      return actions.setUserInfo(response);\n    } catch (error) {\n      return actions.setError(\n        error instanceof Error ? error.message : String(error)\n      );\n    }\n  },\n};\n\nexport default resolvers;\n","import { createSelector, select } from \"@wordpress/data\";\nimport { IUnit, ICourse, IState } from \"../types/course\";\nimport { State } from \"./types\";\n\n// Define base selector types\nexport type SelectorReturnTypes = {\n  getCourseId: () => number | null;\n  getCourseTitle: () => string | null;\n  getCourseInfo: (courseId: number) => ICourse | null;\n  isCourseInfoLoading: () => boolean;\n  getCurrentUnitId: () => number | null;\n  getUserInfo: () => any;\n  getProgress: () => number;\n  getCompletedDuration: () => number | null;\n  getCourseTotalDuration: () => number | null;\n  getAllUnits: () => IUnit[] | null;\n  getCompletedUnits: () => IUnit[];\n  getCourseReview: (courseId: number) => any;\n  getReviewLoading: () => boolean;\n  getReviewError: () => string | null;\n  getReviewModalOpen: () => boolean;\n  isLoading: () => boolean;\n  getError: () => string | null;\n  isCourseCompleted: () => boolean;\n  getCompletionMessage: () => string | null;\n  isLoadingCourseInfo: (courseId: number) => boolean;\n  isLoadingUserInfo: () => boolean;\n  isLoadingReview: (courseId: number) => boolean;\n  hasReview: () => boolean;\n};\n\n// Define selectors with proper typing\nexport const selectors = {\n  getCourseId(state: State): number | null {\n    return state.courseId;\n  },\n\n  getCourseTitle(state: State): string | null {\n    return state.courseInfo?.course_title ?? null;\n  },\n\n  getCourseInfo(state: State, courseId: number): ICourse | null {\n    return state.courseInfo;\n  },\n\n  isCourseInfoLoading(state: State): boolean {\n    return state.isLoading;\n  },\n\n  getCurrentUnitId(state: State): number | null {\n    return state.currentUnitId;\n  },\n\n  getUserInfo(state: State): any {\n    return state.userInfo;\n  },\n\n  getProgress(state: State): number {\n    return state.progress ?? 0;\n  },\n\n  getCompletedDuration(state: State): number | null {\n    return state.completedDuration;\n  },\n\n  getCourseTotalDuration(state: State): number | null {\n    return state.courseTotalDuration;\n  },\n\n  getAllUnits(state: State): IUnit[] | null {\n    return state.allUnits;\n  },\n  getCompletedUnits(state: State): IUnit[] {\n    return state.allUnits?.filter((unit: IUnit) => unit.status === 1) ?? [];\n  },\n\n  getCourseReview(state: State): any {\n    return state.review;\n  },\n\n  getReviewLoading(state: State): boolean {\n    return state.reviewLoading;\n  },\n\n  getReviewError(state: State): string | null {\n    return state.reviewError;\n  },\n\n  getReviewModalOpen(state: State): boolean {\n    return state.reviewModalOpen ?? false;\n  },\n\n  isLoading(state: State): boolean {\n    return state.isLoading ?? false;\n  },\n\n  getError(state: State): string | null {\n    return state.error;\n  },\n\n  isCourseCompleted(state: State): boolean {\n    return state.isCompleted ?? false;\n  },\n\n  getCompletionMessage(state: State): string | null {\n    return state.completionMessage;\n  },\n\n  hasReview(state: State): boolean {\n    return state.hasReview;\n  },\n\n  isLoadingCourseInfo(state: State, courseId: number): boolean {\n    return select(\"core/data\").isResolving(\n      \"custom-course-player\",\n      \"getCourseInfo\",\n      [courseId]\n    );\n  },\n\n  isLoadingUserInfo(state: State): boolean {\n    return select(\"core/data\").isResolving(\n      \"custom-course-player\",\n      \"getUserInfo\",\n      []\n    );\n  },\n\n  isLoadingReview(state: State, courseId: number): boolean {\n    return select(\"core/data\").isResolving(\n      \"custom-course-player\",\n      \"getCourseReview\",\n      [courseId]\n    );\n  },\n};\n\n// Type for the selectors object\nexport type SelectorsType = typeof selectors;\n\n// Helper type to get return type of a selector\nexport type SelectorReturnType<K extends keyof SelectorsType> = ReturnType<\n  SelectorsType[K]\n>;\n\n// Export memoized selectors separately\nexport const memoizedSelectors = {\n  getCompletedUnits: createSelector(\n    (state: State) => state.allUnits,\n    (allUnits): IUnit[] =>\n      allUnits?.filter((unit: IUnit) => unit.status === 1) ?? []\n  ),\n};\n\nexport default selectors;\n","import apiFetch from \"@wordpress/api-fetch\";\nimport { IComment } from \"../types/comment\";\nimport { ICourse, IUnitItem } from \"../types/course\";\nexport const fetchCourseData = async ({\n  courseId,\n  token,\n}: {\n  courseId: string;\n  token: string;\n}) => {\n  try {\n    const data = await apiFetch<ICourse | null>({\n      path: `/wplms/v2/user/coursestatus/${courseId}`,\n      method: \"POST\",\n      data: { token: token },\n    });\n    console.log(data);\n    if (data) {\n      return data;\n    } else {\n      throw new Error(data || \"Failed to fetch course data\");\n    }\n  } catch (err) {\n    throw new Error(\"Error fetching course data\");\n  }\n};\n\nexport const fetchUnitContent = async ({\n  courseId,\n  unitId,\n  token,\n}: {\n  courseId: number | string;\n  unitId: number | null;\n  token: string;\n}) => {\n  try {\n    const data = await apiFetch<IUnitItem | null>({\n      path: `/wplms/v2/user/coursestatus/${courseId}/item/${unitId}`,\n\n      method: \"POST\",\n      data: {\n        token: token,\n      },\n    });\n\n    if (data) {\n      return data;\n    } else {\n      throw new Error(\"Failed to fetch unit content\");\n    }\n  } catch (err) {\n    console.error(\"Error fetching unit content:\", err);\n  }\n};\n\nexport const fetchCourseReview = async ({\n  courseId,\n  token,\n}: {\n  courseId: number;\n  token: string;\n}): Promise<IComment> => {\n  try {\n    const response = (await apiFetch({\n      path: `/wplms/v2/user/getreview/${courseId}`,\n      method: \"POST\",\n      data: { token, course_id: courseId },\n    })) as IComment;\n    return response;\n  } catch (err) {\n    console.error(\"Failed to fetch review status\");\n    throw err;\n  }\n};\nexport const submitCourseReview = async ({\n  rating,\n  review,\n  token,\n  comment_post_ID,\n}: {\n  rating: number;\n  review: string;\n  token: string;\n  comment_post_ID: number;\n}) => {\n  try {\n    const response = await apiFetch({\n      path: `/wplms/v2/updatecourse/addreview`,\n      method: \"POST\",\n      data: {\n        token,\n        comment_post_ID,\n        rating,\n        review,\n        title: \"Course Review\",\n        course_id: comment_post_ID,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Failed to submit review\");\n  }\n};\n\nexport const getUserInfo = async (token: string) => {\n  try {\n    const response = await apiFetch({\n      path: \"/wplms/v2/user/\",\n      method: \"POST\",\n      data: { token },\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Failed to fetch user info\");\n  }\n};\n\nexport const markUnitComplete = async ({\n  courseId,\n  unitId,\n  token,\n  progress,\n}: {\n  courseId: number;\n  unitId: number;\n  token: string;\n  progress: number;\n}) => {\n  try {\n    const response = await apiFetch({\n      method: \"POST\",\n      path: `/wplms/v2/user/coursestatus/${courseId}/item/${unitId}/markcomplete`,\n      data: {\n        token: token,\n        course_id: courseId,\n        item_id: unitId,\n        progress: progress,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Failed to mark unit complete\");\n  }\n};\n\nexport const getCourseProgress = async ({\n  courseId,\n  token,\n}: {\n  courseId: number;\n  token: string;\n}) => {\n  try {\n    const response = await apiFetch({\n      method: \"POST\",\n      path: \"wplms-custom-course-player/v1/course-progress\",\n      data: {\n        course_id: courseId,\n        token: token,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Failed to get course progress\");\n  }\n};\n\n// finish course\nexport const finishCourse = async ({\n  courseId,\n  token,\n}: {\n  courseId: number;\n  token: string;\n}) => {\n  try {\n    const response = await apiFetch({\n      method: \"POST\",\n      path: `/wplms/v2/user/finishcourse`,\n      data: { course_id: courseId, token },\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Failed to finish course\");\n  }\n};\n","export const formatDuration = (duration: number) => {\n  const minutes = Math.floor(duration / 60);\n  const seconds = duration % 60;\n  return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n};\n","// extracted by mini-css-extract-plugin\nexport {};","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { createRoot } from 'react-dom/client';\nimport './index.css';\nimport React from '@wordpress/element';\nimport './store';\nimport RootContainer from './components/RootContainer';\n\n\n\nconst initializeCoursePlayer = () => {\n    const container = document.getElementById('wplms-custom-course-player');\n    if (container) {\n\n        const courseId = container.getAttribute('data-course-id') || '0';\n        const root = createRoot(container);\n        root.render(<RootContainer courseId={courseId} />);\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', initializeCoursePlayer);"],"names":["React","useState","useDispatch","ContentArea","Sidebar","TopBar","useTypedSelect","jsx","_jsx","jsxs","_jsxs","RootContainer","courseId","isSidebarOpen","setIsSidebarOpen","fetchCourse","courseInfo","loading","error","currentUnitId","select","getCourseInfo","parseInt","isLoadingUserInfo","getError","getCurrentUnitId","toggleSidebar","className","children","onClick","onToggleSidebar","isOpen","onToggle","ProgressCircle","progress","size","strokeWidth","circleColor","progressColor","console","log","center","radius","circumference","Math","PI","strokeDasharray","width","height","viewBox","cx","cy","r","stroke","fill","strokeLinecap","ProgressDropdown","completedUnits","totalUnits","strokeLinejoin","d","style","useMemo","ReviewModal","Fragment","_Fragment","_completedUnits$lengt","_totalUnits$length","isProgressOpen","setIsProgressOpen","reviewModalOpen","getCourseId","getAllUnits","getCompletedUnits","getReviewModalOpen","getProgress","courseTitle","getCourseTitle","reviewLoading","review","isLoadingReview","getCourseReview","dispatch","setReviewModalOpen","open","hasReview","comment_ID","undefined","disabled","length","Boolean","onClose","courseName","onReviewSuccess","useUnitContent","unitContent","isLastUnit","isFirstUnit","isHovering","setIsHovering","setPreviousUnit","setNextUnit","onPrevious","onNext","renderNavigationButtons","renderContent","window","location","reload","dangerouslySetInnerHTML","__html","content","onMouseEnter","onMouseLeave","title","useCourseSections","formatDuration","UnitItem","useEffect","REVIEW_MILESTONES","CourseSections","lastShownMilestone","setLastShownMilestone","sections","expandedSections","toggleSection","getSectionStats","isCompleted","completionMessage","isCourseCompleted","getCompletionMessage","finishCourse","onHandleReviewModalOpen","milestone","find","handleFinishCourse","map","section","index","stats","isExpanded","includes","isComplete","totalDuration","units","unit","id","key","SidebarHeader","SidebarProgress","totalLectures","completedLectures","getCourseTotalDuration","useCallback","_unit$status","markUnitComplete","setCurrentUnit","isUnitComplete","setIsUnitComplete","status","handleSelectUnit","completedDuration","courseTotalDuration","getCompletedDuration","unitCompletedProgress","duration","round","onHandleCompleteUnit","unitId","fillRule","clipRule","e","stopPropagation","icon","StarIcon","filled","RatingStars","rating","onRatingChange","value","ReviewForm","isLoading","onReviewChange","onSubmit","onChange","target","placeholder","maxLength","SuccessMessage","setRating","setReview","setError","success","setSuccess","userInfo","currentReview","getUserInfo","handleSubmit","submitCourseReview","setTimeout","err","avatar","src","alt","name","setExpandedSections","items","courseitems","initialExpandedSection","organizedSections","currentSection","sectionWithCurrentUnit","forEach","item","type","push","some","prev","sectionIndex","findIndex","filter","isSectionExpanded","reduce","acc","fetchUnitContent","userAuthToken","wplmsCustomCoursePlayer","token","allUnits","setUnitContent","setLoading","setIsLastUnit","setIsFirstUnit","fetchContent","data","Error","message","String","apiFetch","actionTypes","fetchCourseData","actions","setCourseInfo","SET_COURSE_INFO","payload","setUserInfo","SET_USER_INFO","setCourseInfoLoading","SET_REVIEW_LOADING","setCourseReviewError","SET_REVIEW_ERROR","setCourseReview","SET_COURSE_REVIEW","SET_IS_LOADING","SET_ERROR","NEXT_UNIT","PREV_UNIT","SET_CURRENT_UNIT","setProgress","SET_PROGRESS","SET_REVIEW_MODAL_OPEN","response","comment_post_ID","comment_id","setHasReview","path","method","course_id","item_id","SET_HAS_REVIEW","SET_COURSE_ID","FETCH_COURSE_DATA","FETCH_USER_INFO","MARK_UNIT_COMPLETE","GET_COURSE_PROGRESS","UNIT_COMPLETE_BY_ID","FETCH_COURSE_REVIEW","SUBMIT_COURSE_REVIEW","FINISH_COURSE","SET_COURSE_COMPLETED","SET_COMPLETION_MESSAGE","createReduxStore","register","useSelect","reducer","selectors","resolvers","coursePlayerStore","selector","deps","useTypedDispatch","action","DEFAULT_STATE","reviewError","calculateCourseMetrics","sum","state","current_unit_key","metrics","updatedUnits","_state$allUnits$findI","currentIndex","nextUnit","_state$allUnits$findI2","prevUnit","createSelector","_state$courseInfo$cou","course_title","isCourseInfoLoading","_state$progress","_state$allUnits$filte","getReviewLoading","getReviewError","_state$reviewModalOpe","_state$isLoading","_state$isCompleted","isLoadingCourseInfo","isResolving","memoizedSelectors","_allUnits$filter","fetchCourseReview","getCourseProgress","minutes","floor","seconds","toString","padStart","createRoot","initializeCoursePlayer","container","document","getElementById","getAttribute","root","render","addEventListener"],"sourceRoot":""}