{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wplms-custom-course-player/./src/components/RootContainer.tsx","webpack://wplms-custom-course-player/./src/components/TopBar/ProgressCircle.tsx","webpack://wplms-custom-course-player/./src/components/TopBar/ProgressDropdown.tsx","webpack://wplms-custom-course-player/./src/components/TopBar/index.tsx","webpack://wplms-custom-course-player/./src/components/course/ContentArea.tsx","webpack://wplms-custom-course-player/./src/components/course/content/ContentDisplay.tsx","webpack://wplms-custom-course-player/./src/components/course/content/NavigationButtons.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/SidebarHeader.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/SidebarProgress.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/Unit/UnitItem.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/Unit/UnitItemView.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/index.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/sections/CourseCompletionStatus.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/sections/CourseSections.tsx","webpack://wplms-custom-course-player/./src/components/course/sidebar/sections/SectionHeader.tsx","webpack://wplms-custom-course-player/./src/components/icons/StartIcon.tsx","webpack://wplms-custom-course-player/./src/components/review/RatingStars.tsx","webpack://wplms-custom-course-player/./src/components/review/ReviewForm.tsx","webpack://wplms-custom-course-player/./src/components/review/ReviewModal.tsx","webpack://wplms-custom-course-player/./src/components/review/SuccessMessage.tsx","webpack://wplms-custom-course-player/./src/hooks/course/useContentArea.ts","webpack://wplms-custom-course-player/./src/hooks/useCourseSections.ts","webpack://wplms-custom-course-player/./src/hooks/useCourseSectionsView.ts","webpack://wplms-custom-course-player/./src/hooks/useUnitContent.ts","webpack://wplms-custom-course-player/./src/store/actions.ts","webpack://wplms-custom-course-player/./src/store/const.ts","webpack://wplms-custom-course-player/./src/store/index.ts","webpack://wplms-custom-course-player/./src/store/reducer.ts","webpack://wplms-custom-course-player/./src/store/resolvers.ts","webpack://wplms-custom-course-player/./src/store/selectors.ts","webpack://wplms-custom-course-player/./src/utilities/apiCall.ts","webpack://wplms-custom-course-player/./src/utilities/utility.ts","webpack://wplms-custom-course-player/./src/index.css","webpack://wplms-custom-course-player/./node_modules/react-dom/client.js","webpack://wplms-custom-course-player/external window \"React\"","webpack://wplms-custom-course-player/external window \"ReactDOM\"","webpack://wplms-custom-course-player/external window \"ReactJSXRuntime\"","webpack://wplms-custom-course-player/external window [\"wp\",\"apiFetch\"]","webpack://wplms-custom-course-player/external window [\"wp\",\"data\"]","webpack://wplms-custom-course-player/external window [\"wp\",\"element\"]","webpack://wplms-custom-course-player/webpack/bootstrap","webpack://wplms-custom-course-player/webpack/runtime/compat get default export","webpack://wplms-custom-course-player/webpack/runtime/define property getters","webpack://wplms-custom-course-player/webpack/runtime/hasOwnProperty shorthand","webpack://wplms-custom-course-player/webpack/runtime/make namespace object","webpack://wplms-custom-course-player/./src/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { ICourse } from '../types/course';\nimport ContentArea from './course/ContentArea';\nimport Sidebar from './course/sidebar';\nimport TopBar from './TopBar';\nimport { State } from '../store/types';\nimport { useTypedSelect } from '../store';\n\ninterface RootContainerProps {\n    courseId: string;\n}\n\nconst RootContainer: React.FC<RootContainerProps> = ({ courseId }) => {\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n\n    // Get dispatch actions\n    const {\n        fetchCourse,\n    } = useDispatch('custom-course-player');\n\n    // Get state from Redux store\n    const {\n        courseInfo,\n        loading,\n        error,\n        currentUnitId,\n    } = useTypedSelect((select) => ({\n        courseInfo: select.getCourseInfo(parseInt(courseId)) || null,\n        loading: select.isLoadingUserInfo() || false,\n        error: select.getError() || null,\n        currentUnitId: select.getCurrentUnitId() || null,\n    }), []);\n\n\n\n\n    const toggleSidebar = () => {\n        setIsSidebarOpen(!isSidebarOpen);\n    };\n\n\n\n    if (loading) {\n        return (\n            <div className=\"h-screen flex items-center justify-center\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900\"></div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"h-screen flex items-center justify-center\">\n                <div className=\"bg-red-50 p-4 rounded-lg\">\n                    <p className=\"text-red-600\">{error}</p>\n                    <button\n                        onClick={() => courseId && fetchCourse(courseId)}\n                        className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n                    >\n                        Retry\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"flex flex-col h-screen\">\n            <TopBar\n                onToggleSidebar={toggleSidebar}\n                isSidebarOpen={isSidebarOpen}\n            />\n            <div className=\"flex flex-1 overflow-hidden pt-16\">\n                <ContentArea\n                    isSidebarOpen={isSidebarOpen}\n\n                />\n                {courseInfo && (\n                    <Sidebar\n                        isOpen={isSidebarOpen}\n                        onToggle={toggleSidebar}\n\n                    />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default RootContainer;","import React from 'react';\n\ninterface ProgressCircleProps {\n    progress: number;\n    size?: number;\n    strokeWidth?: number;\n    circleColor?: string;\n    progressColor?: string;\n}\n\nconst ProgressCircle: React.FC<ProgressCircleProps> = ({\n    progress,\n    size = 42, // default size\n    strokeWidth = 3,\n    circleColor = 'text-gray-700',\n    progressColor = 'text-green-500'\n}) => {\n    console.log({ progress });\n    const center = size / 2;\n    const radius = center - strokeWidth;\n    const circumference = 2 * Math.PI * radius;\n    const strokeDasharray = `${(progress / 100) * circumference}, ${circumference}`;\n\n    return (\n        <div className=\"flex items-center gap-2\">\n            <div className=\"relative\">\n                <svg\n                    className=\"transform -rotate-90\"\n                    width={size}\n                    height={size}\n                    viewBox={`0 0 ${size} ${size}`}\n                >\n                    <circle\n                        cx={center}\n                        cy={center}\n                        r={radius}\n                        stroke=\"currentColor\"\n                        strokeWidth={strokeWidth}\n                        fill=\"none\"\n                        className={circleColor}\n                    />\n                    <circle\n                        cx={center}\n                        cy={center}\n                        r={radius}\n                        stroke=\"currentColor\"\n                        strokeWidth={strokeWidth}\n                        fill=\"none\"\n                        className={progressColor}\n                        strokeDasharray={strokeDasharray}\n                        strokeLinecap=\"round\"\n                    />\n                </svg>\n                <span className=\"absolute inset-0 flex items-center justify-center text-xs font-medium\">\n                    {progress}%\n                </span>\n            </div>\n        </div>\n    );\n};\n\nexport default ProgressCircle;","import React from \"react\";\n\ninterface ProgressDropdownProps {\n    isOpen: boolean;\n    onToggle: () => void;\n    completedUnits: number;\n    totalUnits: number;\n}\n\n\n\n// ProgressDropdown Component\nconst ProgressDropdown: React.FC<ProgressDropdownProps> = ({\n    isOpen,\n    onToggle,\n    completedUnits,\n    totalUnits\n}) => {\n    return (\n        <div className=\"relative\">\n            <button\n                onClick={onToggle}\n                className=\"flex items-center gap-2 px-4 py-2 hover:bg-gray-700 rounded-md transition-colors\"\n            >\n                <span>Progress</span>\n                <svg\n                    className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`}\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n            </button>\n            {isOpen && (\n                <div className=\"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg z-50\">\n                    <div className=\"p-4\">\n                        <div className=\"space-y-4\">\n                            <div>\n                                <h3 className=\"text-sm font-medium text-gray-900\">Course Progress</h3>\n                                <p className=\"text-sm text-gray-600\">\n                                    {completedUnits} of {totalUnits} units completed\n                                </p>\n                            </div>\n                            <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                                <div\n                                    className=\"bg-green-500 h-2.5 rounded-full transition-all duration-300\"\n                                    style={{ width: `${(completedUnits / totalUnits) * 100}%` }}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n\n}\n\nexport default ProgressDropdown","import { useDispatch } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport React, { useState } from 'react';\nimport { useTypedSelect } from '../../store';\nimport ReviewModal from '../review/ReviewModal';\nimport ProgressCircle from './ProgressCircle';\nimport ProgressDropdown from './ProgressDropdown';\n\ninterface TopBarProps {\n    onToggleSidebar: () => void;\n    isSidebarOpen: boolean;\n}\nexport default function TopBar({ onToggleSidebar }: TopBarProps) {\n    const [isProgressOpen, setIsProgressOpen] = useState(false);\n\n    const {\n        courseId,\n        totalUnits,\n        completedUnits,\n        progress,\n        reviewModalOpen,\n    } = useTypedSelect((select) => ({\n        courseId: select.getCourseId(),\n        totalUnits: select.getAllUnits(),\n        completedUnits: select.getCompletedUnits(),\n        reviewModalOpen: select.getReviewModalOpen(),\n        progress: select.getProgress(),\n    }));\n\n    const courseTitle = useTypedSelect((select) => select.getCourseTitle());\n    const { reviewLoading, review } = useTypedSelect((select) => {\n        if (courseId) {\n            return {\n                reviewLoading: select.isLoadingReview(courseId),\n                review: select.getCourseReview(courseId),\n            }\n        }\n        return {\n            reviewLoading: false,\n            review: null\n        }\n    }, [courseId]);\n    console.log({ courseTitle, totalUnits, completedUnits, review, reviewLoading, progress });\n\n    // dispatch\n    const dispatch = useDispatch();\n\n    const setReviewModalOpen = (open: boolean) => {\n        dispatch('custom-course-player').setReviewModalOpen(open);\n    };\n    const hasReview = useMemo(() => {\n        return review?.comment_ID !== undefined;\n    }, [review]);\n    return (\n        <>\n            <div className=\"fixed top-0 left-0 right-0 bg-gray-800 text-white z-50\">\n                <div className=\"h-16 px-4 flex items-center justify-between\">\n                    {/* Left section */}\n                    <div className=\"flex items-center gap-4\">\n                        <h1 className=\"text-xl font-bold truncate max-w-md text-secondary-50\">\n                            {courseTitle || ''}\n                        </h1>\n                    </div>\n\n                    {/* Right section */}\n                    <div className=\"flex items-center gap-4\">\n                        <ProgressCircle progress={progress} />\n\n                        {!hasReview && (\n                            <button\n                                onClick={() => setReviewModalOpen(true)}\n                                className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 \n                                     transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 \n                                     focus:ring-offset-2 focus:ring-offset-gray-800\"\n                                disabled={reviewLoading || false}\n                            >\n                                {reviewLoading ? 'Loading...' : 'Leave a Review'}\n                            </button>\n                        )}\n\n                        <ProgressDropdown\n                            isOpen={isProgressOpen}\n                            onToggle={() => setIsProgressOpen(!isProgressOpen)}\n                            completedUnits={completedUnits?.length ?? 0}\n                            totalUnits={totalUnits?.length ?? 0}\n                        />\n\n                        <button\n                            onClick={onToggleSidebar}\n                            className=\"p-2 hover:bg-gray-700 rounded-md transition-colors\"\n                            aria-label=\"Toggle sidebar\"\n                        >\n                            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth={2}\n                                    d=\"M4 6h16M4 12h16M4 18h16\"\n                                />\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n\n                {/* Progress bar */}\n                <div className=\"h-1 bg-gray-700\">\n                    <div\n                        className=\"h-full bg-green-500 transition-all duration-500\"\n                        style={{ width: `${progress}%` }}\n                    />\n                </div>\n            </div>\n\n            {/* Review Modal */}\n            {reviewModalOpen && <ReviewModal\n                isOpen={Boolean(!reviewLoading && reviewModalOpen)}\n                onClose={() => setReviewModalOpen(false)}\n                courseId={courseId}\n                courseName={courseTitle}\n                progress={progress}\n                onReviewSuccess={() => { }}\n            />}\n\n            {/* Backdrop for progress dropdown */}\n            {isProgressOpen && (\n                <div\n                    className=\"fixed inset-0 z-20\"\n                    onClick={() => setIsProgressOpen(false)}\n                />\n            )}\n        </>\n    );\n}","import React from 'react';\nimport { useContentArea } from '../../hooks/course/useContentArea';\nimport { ContentDisplay } from './content/ContentDisplay';\n\ninterface ContentAreaProps {\n    isSidebarOpen: boolean;\n}\n\nconst ContentArea: React.FC<ContentAreaProps> = ({ isSidebarOpen }) => {\n    const {\n        unitContent,\n        loading,\n        error,\n        isLastUnit,\n        isFirstUnit,\n        isHovering,\n        handlePrevious,\n        handleNext,\n        handleMouseEnter,\n        handleMouseLeave,\n        handleRetry,\n    } = useContentArea(isSidebarOpen);\n\n    return (\n        <div\n            className={`flex-1 p-6 overflow-y-auto transition-all duration-300 relative ${isSidebarOpen ? 'mr-80' : ''\n                }`}\n            onMouseEnter={handleMouseEnter}\n            onMouseLeave={handleMouseLeave}\n        >\n            <div className=\"mb-6\">\n                {loading ? (\n                    <div className=\"h-8 bg-gray-200 rounded animate-pulse w-2/3\"></div>\n                ) : (\n                    <h1 className=\"text-3xl font-bold mb-1\">{unitContent?.title}</h1>\n                )}\n            </div>\n            <ContentDisplay\n                loading={loading}\n                error={error}\n                unitContent={unitContent}\n                isHovering={isHovering}\n                isSidebarOpen={isSidebarOpen}\n                onPrevious={handlePrevious}\n                onNext={handleNext}\n                isFirstUnit={isFirstUnit}\n                isLastUnit={isLastUnit}\n                onRetry={handleRetry}\n            />\n        </div>\n    );\n};\n\nexport default ContentArea;","import React from 'react';\nimport { NavigationButtons } from './NavigationButtons';\n\ninterface ContentDisplayProps {\n    loading: boolean;\n    error: string | null;\n    unitContent: any; // Replace 'any' with proper type\n    isHovering: boolean;\n    isSidebarOpen: boolean;\n    onPrevious: () => void;\n    onNext: () => void;\n    isFirstUnit: boolean;\n    isLastUnit: boolean;\n    onRetry: () => void;\n}\n\nexport const ContentDisplay: React.FC<ContentDisplayProps> = ({\n    loading,\n    error,\n    unitContent,\n    isHovering,\n    isSidebarOpen,\n    onPrevious,\n    onNext,\n    isFirstUnit,\n    isLastUnit,\n    onRetry,\n}) => {\n    if (loading) {\n        return (\n            <div className=\"flex flex-col items-center justify-center min-h-[400px] space-y-4\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900\"></div>\n                <p className=\"text-gray-600\">Loading content...</p>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"flex flex-col items-center justify-center min-h-[400px] space-y-4\">\n                <div className=\"bg-red-50 p-6 rounded-lg text-center\">\n                    <p className=\"text-red-600 mb-4\">{error}</p>\n                    <button\n                        onClick={onRetry}\n                        className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n                    >\n                        Retry\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    if (!unitContent) {\n        return (\n            <div className=\"flex items-center justify-center min-h-[400px]\">\n                <p className=\"text-gray-600\">No content available</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className='custom_course_content max-h-[600px] relative'>\n            <div\n                className={`transition-opacity duration-300 ${loading ? 'opacity-50' : 'opacity-100'}`}\n                dangerouslySetInnerHTML={{ __html: unitContent.content }}\n            />\n            <NavigationButtons\n                isHovering={isHovering}\n                isSidebarOpen={isSidebarOpen}\n                onPrevious={onPrevious}\n                onNext={onNext}\n                isFirstUnit={isFirstUnit}\n                isLastUnit={isLastUnit}\n                loading={loading}\n            />\n        </div>\n    );\n}; ","import React from 'react';\n\ninterface NavigationButtonsProps {\n    isHovering: boolean;\n    isSidebarOpen: boolean;\n    onPrevious: () => void;\n    onNext: () => void;\n    isFirstUnit: boolean;\n    isLastUnit: boolean;\n    loading: boolean;\n}\n\nexport const NavigationButtons: React.FC<NavigationButtonsProps> = ({\n    isHovering,\n    isSidebarOpen,\n    onPrevious,\n    onNext,\n    isFirstUnit,\n    isLastUnit,\n    loading,\n}) => (\n    <>\n        <button\n            className={`fixed top-1/2 left-4 bg-gray-800 text-white p-2 rounded-full transform -translate-y-1/2 transition-opacity duration-300 ${isHovering ? 'opacity-50 hover:opacity-100' : 'opacity-0'\n                }`}\n            onClick={onPrevious}\n            disabled={loading || isFirstUnit}\n        >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n        </button>\n\n        <button\n            className={`fixed top-1/2 right-4 bg-gray-800 text-white p-2 rounded-full transform -translate-y-1/2 transition-opacity duration-300 ${isSidebarOpen ? 'mr-[23rem]' : ''\n                } ${isHovering ? 'opacity-50 hover:opacity-100' : 'opacity-0'}`}\n            onClick={onNext}\n            disabled={loading || isLastUnit}\n        >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n        </button>\n    </>\n); ","import React from 'react';\nimport { SidebarHeaderProps } from './types';\n\nconst SidebarHeader: React.FC<SidebarHeaderProps> = ({ title, onToggle }) => (\n    <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-xl font-bold text-gray-800\">{title}</h2>\n        <button className=\"text-gray-500 hover:text-gray-700\" onClick={onToggle}>\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n        </button>\n    </div>\n);\n\nexport default SidebarHeader;","import React from 'react';\nimport { SidebarProgressProps } from './types';\nimport { useSelect } from '@wordpress/data';\nimport { useTypedSelect } from '../../../store';\nimport { State } from '../../../store/types';\n\nconst SidebarProgress = () => {\n    const { totalLectures, totalDuration, completedLectures } = useTypedSelect((select) => ({\n        totalLectures: select.getAllUnits()?.length,\n        totalDuration: select.getCourseTotalDuration(),\n        completedLectures: select.getCompletedUnits()?.length\n    }));\n\n    return (\n        <div className=\"mb-4\">\n            <div className=\"text-sm text-gray-600\">\n                {totalLectures} lectures  {totalDuration ? totalDuration / 60 : 0}m total duration\n            </div>\n            <div className=\"mt-2 h-1 bg-gray-200 rounded-full\">\n                <div\n                    className=\"h-full bg-blue-500 rounded-full\"\n                    style={{ width: `${((completedLectures ?? 0) / (totalLectures ?? 1)) * 100}%` }}\n                ></div>\n            </div>\n        </div>\n    );\n}\n\nexport default SidebarProgress;","import React, { useState, useEffect } from 'react';\nimport { UnitItemProps } from '../types';\nimport { formatDuration } from '../../../../utilities/utility';\nimport { useCallback } from '@wordpress/element';\nimport { useTypedSelect } from '../../../../store';\nimport { State } from '../../../../store/types';\nimport { useDispatch } from '@wordpress/data';\nimport UnitItemView from './UnitItemView';\n\nconst UnitItem: React.FC<UnitItemProps> = ({ unit }) => {\n    const { markUnitComplete, setCurrentUnit } = useDispatch('custom-course-player');\n    const [isUnitComplete, setIsUnitComplete] = useState(unit?.status ?? 0);\n\n    const { currentUnitId, courseId, completedDuration, courseTotalDuration } = useTypedSelect((select) => ({\n        currentUnitId: select.getCurrentUnitId(),\n        courseId: select.getCourseId(),\n        completedDuration: select.getCompletedDuration(),\n        courseTotalDuration: select.getCourseTotalDuration(),\n    }), []);\n\n    const unitCompletedProgress = useCallback(() => {\n        if (unit.duration && courseTotalDuration && completedDuration !== null) {\n            return Math.round(((completedDuration + unit.duration) / courseTotalDuration) * 100);\n        }\n        return 0;\n    }, [completedDuration, unit.duration, courseTotalDuration]);\n\n    const onHandleCompleteUnit = async (unitId: number) => {\n        try {\n            await markUnitComplete({\n                courseId,\n                unitId,\n                progress: unitCompletedProgress(),\n            });\n            setIsUnitComplete(1);\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    return (\n        <UnitItemView\n            unit={unit}\n            currentUnitId={currentUnitId ?? 0}\n            isUnitComplete={isUnitComplete}\n            onSelectUnit={setCurrentUnit}\n            onCompleteUnit={onHandleCompleteUnit}\n        />\n    );\n}\n\nexport default UnitItem;","import React from 'react';\nimport { formatDuration } from '../../../../utilities/utility';\n\ninterface UnitItemViewProps {\n    unit: any; // Replace with proper type\n    currentUnitId: number;\n    isUnitComplete: number;\n    onSelectUnit: (id: number) => void;\n    onCompleteUnit: (id: number) => void;\n}\n\nconst UnitItemView: React.FC<UnitItemViewProps> = ({\n    unit,\n    currentUnitId,\n    isUnitComplete,\n    onSelectUnit,\n    onCompleteUnit,\n}) => (\n    <div\n        className={`flex items-center p-4 cursor-pointer transition-colors\n                   ${currentUnitId === unit.id ? 'bg-blue-50' : 'hover:bg-gray-50'}\n                   ${unit.status === 1 ? 'opacity-75' : ''}`}\n        onClick={() => onSelectUnit(unit.id)}\n    >\n        <div className=\"flex-shrink-0 mr-3\">\n            {isUnitComplete === 1 ? (\n                <svg className=\"w-5 h-5 text-green-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\"\n                        d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\n                        clipRule=\"evenodd\"\n                    />\n                </svg>\n            ) : (\n                <div\n                    className=\"w-5 h-5 border-2 border-gray-300 rounded-full cursor-pointer\"\n                    onClick={(e) => {\n                        e.stopPropagation();\n                        onCompleteUnit(unit.id);\n                    }}\n                />\n            )}\n        </div>\n\n        <div className=\"flex-grow\">\n            <h4 className={`text-sm ${currentUnitId === unit.id ? 'font-medium' : ''}`}>\n                {unit.title}\n            </h4>\n            <div className=\"flex items-center text-xs text-gray-500 mt-1\">\n                {unit.icon && <span className={`${unit.icon} mr-1`} />}\n                <span>{formatDuration(unit.duration)} m</span>\n            </div>\n        </div>\n    </div>\n);\n\nexport default UnitItemView; ","import React from 'react';\nimport CourseSections from './sections/CourseSections';\nimport SidebarHeader from './SidebarHeader';\nimport SidebarProgress from './SidebarProgress';\nimport { SidebarProps } from './types';\n\nconst Sidebar: React.FC<SidebarProps> = ({ isOpen, onToggle }) => {\n    return (\n        <div className={`fixed top-0 right-0 w-[24rem] bg-white border-l border-gray-200 h-full transform \n        ${isOpen ? 'translate-x-0' : 'translate-x-full'} transition-transform duration-300 ease-in-out z-10`}>\n            <div className=\"h-full overflow-y-auto pt-16\">\n                <div className=\"p-4\">\n                    <SidebarHeader title=\"Course content\" onToggle={onToggle} />\n                    <SidebarProgress />\n                    <CourseSections />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Sidebar;","import React from 'react';\n\ninterface CourseCompletionStatusProps {\n    isCompleted: boolean;\n    completionMessage: string;\n    onFinishCourse: () => void;\n}\n\nexport const CourseCompletionStatus: React.FC<CourseCompletionStatusProps> = ({\n    isCompleted,\n    completionMessage,\n    onFinishCourse\n}) => {\n    if (isCompleted) {\n        return (\n            <div className=\"p-4 bg-green-100 rounded-lg\">\n                <p className=\"text-sm text-green-800\">\n                    Congratulations! You've completed this course.\n                </p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"p-4 bg-green-50 rounded-lg\">\n            <p className=\"text-sm text-green-800 mb-2\">\n                {completionMessage}\n            </p>\n            <button\n                onClick={onFinishCourse}\n                className=\"w-full py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors\"\n            >\n                Complete Course\n            </button>\n        </div>\n    );\n}; ","import React from 'react';\nimport { useCourseSectionsView } from '../../../../hooks/useCourseSectionsView';\nimport { CourseCompletionStatus } from './CourseCompletionStatus';\nimport { SectionHeader } from './SectionHeader';\nimport UnitItem from '../Unit/UnitItem';\n\nconst CourseSections = () => {\n    const {\n        sections,\n        expandedSections,\n        toggleSection,\n        getSectionStats,\n        isCompleted,\n        completionMessage,\n        handleFinishCourse\n    } = useCourseSectionsView();\n\n    return (\n        <div className=\"space-y-2\">\n            <CourseCompletionStatus\n                isCompleted={isCompleted}\n                completionMessage={completionMessage || ''}\n                onFinishCourse={handleFinishCourse}\n            />\n\n            {sections.map((section, index) => {\n                const stats = getSectionStats(section);\n                const isExpanded = expandedSections.includes(index);\n\n                return (\n                    <div key={section.key} className=\"border rounded-lg transition-colors border-gray-200\">\n                        <SectionHeader\n                            title={section.title}\n                            stats={stats}\n                            isExpanded={isExpanded}\n                            onClick={() => toggleSection(index)}\n                        />\n\n                        {isExpanded && (\n                            <div className=\"border-t border-gray-200\">\n                                {section.units.map((unit) => (\n                                    <UnitItem key={unit.id} unit={unit} />\n                                ))}\n                            </div>\n                        )}\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n\nexport default CourseSections; ","import React from 'react';\nimport { formatDuration } from '../../../../utilities/utility';\nimport { SectionStats } from './types';\n\ninterface SectionHeaderProps {\n    title: string;\n    stats: SectionStats;\n    isExpanded: boolean;\n    onClick: () => void;\n}\n\nexport const SectionHeader: React.FC<SectionHeaderProps> = ({\n    title,\n    stats,\n    isExpanded,\n    onClick\n}) => (\n    <button\n        className={`w-full flex items-center justify-between p-4 text-left\n                   transition-colors rounded-t-lg\n                   ${isExpanded ? 'bg-gray-50' : 'hover:bg-gray-50'}\n                   ${stats.isComplete ? 'bg-primary-50 hover:bg-primary-100' : ''}`}\n        onClick={onClick}\n    >\n        <div className=\"flex-grow\">\n            <div className=\"flex items-center gap-2\">\n                <h3 className=\"font-semibold text-gray-900 text-[1rem]\">{title}</h3>\n            </div>\n            <p className=\"text-sm text-gray-500\">\n                {stats.completedUnits}/{stats.totalUnits} lessons  {formatDuration(stats.totalDuration)} m\n            </p>\n        </div>\n        <svg\n            className={`w-5 h-5 text-gray-500 transition-transform ${isExpanded ? 'rotate-180' : ''}`}\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n        >\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n        </svg>\n    </button>\n); ","import React from \"react\";\n\ninterface StarIconProps {\n    filled: boolean;\n}\n\nexport const StarIcon = ({ filled }: StarIconProps) => (\n    <svg\n        className={`w-8 h-8 ${filled ? 'text-yellow-400' : 'text-gray-300'}`}\n        fill={filled ? 'currentColor' : 'none'}\n        stroke=\"currentColor\"\n        viewBox=\"0 0 24 24\"\n        strokeWidth=\"1.5\"\n    >\n        <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n        />\n    </svg>\n);\n","import React from 'react';\nimport { StarIcon } from '../icons/StartIcon';\n\ninterface RatingStarsProps {\n    rating: number;\n    onRatingChange: (value: number) => void;\n}\n\nexport const RatingStars = ({ rating, onRatingChange }: RatingStarsProps) => (\n    <div className=\"flex items-center gap-1 mb-6\">\n        {[1, 2, 3, 4, 5].map((value) => (\n            <button\n                key={value}\n                onClick={() => onRatingChange(value)}\n                className=\"bg-transparent transition-transform hover:scale-110\"\n                aria-label={`Rate ${value} stars`}\n            >\n                <StarIcon filled={value <= rating} />\n            </button>\n        ))}\n    </div>\n);\n","import React from 'react';\nimport { RatingStars } from './RatingStars';\n\ninterface ReviewFormProps {\n    rating: number;\n    review: string;\n    error: string;\n    isLoading: boolean;\n    onRatingChange: (value: number) => void;\n    onReviewChange: (value: string) => void;\n    onSubmit: () => void;\n}\n\nexport const ReviewForm: React.FC<ReviewFormProps> = ({\n    rating,\n    review,\n    error,\n    isLoading,\n    onRatingChange,\n    onReviewChange,\n    onSubmit\n}) => (\n    <>\n        <RatingStars rating={rating} onRatingChange={onRatingChange} />\n        <textarea\n            value={review}\n            onChange={(e) => onReviewChange(e.target.value)}\n            placeholder=\"Share your thoughts about this course...\"\n            className=\"w-full h-32 p-3 border rounded-md mb-4 focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none\"\n            maxLength={500}\n            disabled={isLoading}\n        />\n        {error && (\n            <div className=\"mb-4 text-red-600 p-3 bg-red-50 rounded-md\">\n                {error}\n            </div>\n        )}\n        <div className=\"flex justify-between items-center\">\n            <span className=\"text-sm text-gray-500\">\n                {500 - review.length} characters remaining\n            </span>\n            <button\n                onClick={onSubmit}\n                className=\"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 \n                 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                disabled={review.length < 10 || isLoading}\n            >\n                {isLoading ? 'Submitting...' : 'Submit Review'}\n            </button>\n        </div>\n    </>\n);\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from '@wordpress/data';\nimport { ReviewForm } from './ReviewForm';\nimport { SuccessMessage } from './SuccessMessage';\nimport { useTypedSelect } from '../../store';\nimport { State } from '../../store/types';\n\ninterface ReviewModalProps {\n    isOpen: boolean;\n    courseId: number | null;\n    onClose: () => void;\n    progress: number;\n    courseName?: string | null;\n    onReviewSuccess?: () => void;\n}\n\nexport default function ReviewModal({\n    isOpen,\n    courseId,\n    onClose,\n    progress,\n    courseName = \"Course\",\n    onReviewSuccess\n}: ReviewModalProps) {\n    const [rating, setRating] = useState(5);\n    const [review, setReview] = useState('');\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState(false);\n    const dispatch = useDispatch();\n\n    const { userInfo, currentReview, isLoading } = useTypedSelect((select) => ({\n        userInfo: select.getUserInfo(),\n        currentReview: select.getCourseReview(courseId || 0),\n        isLoading: select.isLoadingUserInfo(),\n    }), [courseId]);\n\n\n    useEffect(() => {\n        if (currentReview) {\n            setRating(currentReview.rating || 5);\n            setReview(currentReview.content || '');\n        }\n    }, [currentReview]);\n\n    const handleSubmit = async () => {\n        if (review.length < 10) {\n            setError('Please write a more detailed review (minimum 10 characters)');\n            return;\n        }\n\n        try {\n            await dispatch('custom-course-player').submitCourseReview({\n                rating,\n                review,\n                courseId: courseId || 0\n            });\n\n            setSuccess(true);\n            setTimeout(() => {\n                onClose();\n                onReviewSuccess?.();\n            }, 2000);\n        } catch (err) {\n            setError('Failed to submit review. Please try again later.');\n        }\n    };\n    console.log('isOpen', isOpen);\n    if (!isOpen) return null;\n    return (\n        <div\n            className=\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4\"\n            onClick={onClose}\n        >\n            <div\n                className=\"bg-white rounded-lg max-w-lg w-full p-6 shadow-xl\"\n                onClick={e => e.stopPropagation()}\n            >\n                <div className=\"flex justify-between items-start mb-6\">\n                    <div>\n                        <h2 className=\"text-2xl font-bold text-gray-800\">\n                            Share Your Experience\n                        </h2>\n                        <p className=\"text-gray-600 mt-2\">{courseName}</p>\n                    </div>\n                    <button\n                        onClick={onClose}\n                        className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n                        aria-label=\"Close modal\"\n                    >\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"\n                                d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                    </button>\n                </div>\n\n                {userInfo?.avatar && (\n                    <div className=\"flex items-center gap-3 mb-6\">\n                        <img\n                            src={userInfo.avatar}\n                            alt={userInfo.name || 'User avatar'}\n                            className=\"w-10 h-10 rounded-full\"\n                        />\n                        <span className=\"font-medium text-gray-700\">\n                            {userInfo.name || 'Anonymous'}\n                        </span>\n                    </div>\n                )}\n\n                {success ? (\n                    <SuccessMessage />\n                ) : (\n                    <ReviewForm\n                        rating={rating}\n                        review={review}\n                        error={error}\n                        onRatingChange={setRating}\n                        onReviewChange={setReview}\n                        onSubmit={handleSubmit}\n                        isLoading={isLoading} />\n                )}\n            </div>\n        </div>\n    );\n}","import React from \"react\";\n\nexport const SuccessMessage = () => (\n    <div className=\"text-center py-8\">\n        <div className=\"mb-4 text-green-500\">\n            <svg className=\"w-16 h-16 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"\n                    d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n        </div>\n        <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">\n            Thank you for your review!\n        </h3>\n        <p className=\"text-gray-600\">\n            Your feedback helps improve the course for future students.\n        </p>\n    </div>\n);\n","import { useState } from \"react\";\nimport { useUnitContent } from \"../useUnitContent\";\nimport { useDispatch } from \"@wordpress/data\";\n\nexport const useContentArea = (isSidebarOpen: boolean) => {\n  const { unitContent, loading, error, isLastUnit, isFirstUnit } =\n    useUnitContent();\n  const [isHovering, setIsHovering] = useState(false);\n  const { setPreviousUnit, setNextUnit } = useDispatch(\"custom-course-player\");\n\n  const handlePrevious = () => {\n    setPreviousUnit();\n  };\n\n  const handleNext = () => {\n    setNextUnit();\n  };\n\n  const handleMouseEnter = () => setIsHovering(true);\n  const handleMouseLeave = () => setIsHovering(false);\n\n  const handleRetry = () => window.location.reload();\n\n  return {\n    // State\n    unitContent,\n    loading,\n    error,\n    isLastUnit,\n    isFirstUnit,\n    isHovering,\n    isSidebarOpen,\n\n    // Methods\n    handlePrevious,\n    handleNext,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleRetry,\n  };\n};\n","// hooks/useCourseSections.ts\nimport { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { IUnit } from \"../types/course\";\nimport { useSelect } from \"@wordpress/data\";\nimport { useTypedSelect } from \"../store\";\nimport { State } from \"../store/types\";\n\ninterface Section {\n  id: number;\n  key: number;\n  title: string;\n  units: IUnit[];\n}\n\nexport const useCourseSections = () => {\n  const courseId = useTypedSelect((select) => select.getCourseId(), []);\n\n  const [expandedSections, setExpandedSections] = useState<number[]>([]);\n  const { items, currentUnitId } = useTypedSelect(\n    (select) => {\n      if (courseId) {\n        return {\n          items: select.getCourseInfo(courseId)?.courseitems || [],\n          currentUnitId: select.getCurrentUnitId(),\n        };\n      }\n      return { items: [], currentUnitId: null };\n    },\n    [courseId]\n  );\n\n  // Organize sections and find initial expanded section\n  const { sections, initialExpandedSection } = useMemo(() => {\n    const organizedSections: Section[] = [];\n    let currentSection: Section | null = null as Section | null;\n    let sectionWithCurrentUnit = -1;\n\n    items?.forEach((item: IUnit) => {\n      if (item.type === \"section\") {\n        if (currentSection) {\n          organizedSections.push(currentSection);\n        }\n        currentSection = {\n          id: item.id,\n          key: item.key,\n          title: item.title,\n          units: [],\n        };\n      } else if (item.type === \"unit\" && currentSection) {\n        currentSection.units.push(item);\n        // Check if this unit is the current one\n        if (item.id === currentUnitId) {\n          sectionWithCurrentUnit = organizedSections.length;\n        }\n      }\n    });\n\n    // Add the last section\n    if (currentSection) {\n      organizedSections.push(currentSection);\n      // Check last section for current unit if not found yet\n      if (\n        sectionWithCurrentUnit === -1 &&\n        currentSection.units.some((unit) => unit.id === currentUnitId)\n      ) {\n        sectionWithCurrentUnit = organizedSections.length - 1;\n      }\n    }\n\n    return {\n      sections: organizedSections,\n      initialExpandedSection: sectionWithCurrentUnit,\n    };\n  }, [items, currentUnitId]);\n\n  // Set initial expanded section when sections are first loaded\n  useEffect(() => {\n    if (initialExpandedSection !== -1) {\n      setExpandedSections((prev) => {\n        if (!prev.includes(initialExpandedSection)) {\n          return [...prev, initialExpandedSection];\n        }\n        return prev;\n      });\n    }\n  }, [initialExpandedSection]);\n\n  // Update expanded sections when current unit changes\n  useEffect(() => {\n    if (currentUnitId) {\n      const sectionIndex = sections.findIndex((section) =>\n        section.units.some((unit) => unit.id === currentUnitId)\n      );\n\n      if (sectionIndex !== -1 && !expandedSections.includes(sectionIndex)) {\n        setExpandedSections((prev) => [...prev, sectionIndex]);\n      }\n    }\n  }, [currentUnitId, sections]);\n\n  const toggleSection = useCallback((sectionIndex: number) => {\n    setExpandedSections((prev) =>\n      prev.includes(sectionIndex)\n        ? prev.filter((index) => index !== sectionIndex)\n        : [...prev, sectionIndex]\n    );\n  }, []);\n\n  const isSectionExpanded = useCallback(\n    (sectionIndex: number) => {\n      return expandedSections.includes(sectionIndex);\n    },\n    [expandedSections]\n  );\n\n  const getSectionStats = useCallback((section: Section) => {\n    const totalUnits = section.units.length;\n    const completedUnits = section.units.filter(\n      (unit) => unit.status === 1\n    ).length;\n    const totalDuration = section.units.reduce(\n      (acc, unit) => acc + unit.duration,\n      0\n    );\n\n    return {\n      totalUnits,\n      completedUnits,\n      totalDuration,\n      isComplete: totalUnits === completedUnits && totalUnits > 0,\n    };\n  }, []);\n\n  return {\n    sections,\n    expandedSections,\n    toggleSection,\n    isSectionExpanded,\n    getSectionStats,\n  };\n};\n","import { useState, useEffect } from \"@wordpress/element\";\nimport { useDispatch } from \"@wordpress/data\";\nimport { useTypedSelect } from \"../store\";\nimport { useCourseSections } from \"./useCourseSections\";\n\nconst REVIEW_MILESTONES = [15, 75, 100];\n\nexport function useCourseSectionsView() {\n  const [lastShownMilestone, setLastShownMilestone] = useState<number>(0);\n  const { setReviewModalOpen, finishCourse } = useDispatch(\n    \"custom-course-player\"\n  );\n\n  const { sections, expandedSections, toggleSection, getSectionStats } =\n    useCourseSections();\n\n  const courseId = useTypedSelect((select) => select.getCourseId(), []);\n\n  const { progress, isCompleted, completionMessage } = useTypedSelect(\n    (select) => ({\n      progress: select.getProgress(),\n      isCompleted: select.isCourseCompleted(),\n      completionMessage: select.getCompletionMessage(),\n    }),\n    [courseId]\n  );\n\n  const { hasReview } = useTypedSelect(\n    (select) => {\n      if (courseId) {\n        return {\n          hasReview: select.hasReview(),\n          reviewLoading: select.isLoadingReview(courseId),\n        };\n      }\n      return { hasReview: false, reviewLoading: true };\n    },\n    [courseId]\n  );\n\n  const onHandleReviewModalOpen = () => {\n    if (hasReview) {\n      return;\n    }\n    const milestone = REVIEW_MILESTONES.find(\n      (milestone) => progress >= milestone && lastShownMilestone < milestone\n    );\n\n    if (milestone) {\n      setReviewModalOpen(true);\n      setLastShownMilestone(milestone);\n    }\n  };\n\n  useEffect(() => {\n    if (!hasReview && courseId) {\n      onHandleReviewModalOpen();\n    } else {\n      setReviewModalOpen(false);\n    }\n  }, [progress, hasReview, courseId]);\n\n  const handleFinishCourse = async () => {\n    if (courseId) {\n      await finishCourse(courseId);\n    }\n  };\n\n  return {\n    sections,\n    expandedSections,\n    toggleSection,\n    getSectionStats,\n    isCompleted,\n    completionMessage,\n    handleFinishCourse,\n  };\n}\n","import { useState, useEffect } from \"react\";\nimport { useSelect } from \"@wordpress/data\";\nimport { IUnitItem } from \"../types/course\";\nimport { fetchUnitContent } from \"../utilities/apiCall\";\nimport { useTypedSelect } from \"../store\";\nconst userAuthToken = (window as any).wplmsCustomCoursePlayer.token;\nexport const useUnitContent = () => {\n  const { courseId, currentUnitId, allUnits } = useTypedSelect((select) => ({\n    courseId: select.getCourseId(),\n    currentUnitId: select.getCurrentUnitId(),\n    allUnits: select.getAllUnits(),\n  }));\n  const [unitContent, setUnitContent] = useState<IUnitItem | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isLastUnit, setIsLastUnit] = useState(false);\n  const [isFirstUnit, setIsFirstUnit] = useState(false);\n  const fetchContent = async () => {\n    setUnitContent(null);\n    setLoading(false);\n    try {\n      if (!courseId || !currentUnitId) {\n        return;\n      }\n      setLoading(true);\n      const data = await fetchUnitContent({\n        courseId: courseId,\n        unitId: currentUnitId,\n        token: userAuthToken,\n      });\n      setUnitContent(data ?? null);\n      setIsLastUnit(\n        allUnits ? currentUnitId === allUnits[allUnits.length - 1].id : false\n      );\n      setIsFirstUnit(allUnits ? currentUnitId === allUnits[0].id : false);\n      setError(null);\n    } catch (err) {\n      console.log(err);\n      setError(err instanceof Error ? err.message : String(err));\n      setUnitContent(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (userAuthToken && courseId && currentUnitId) {\n      fetchContent();\n    }\n  }, [courseId, currentUnitId, userAuthToken]);\n\n  return {\n    unitContent,\n    loading,\n    error,\n    isLastUnit,\n    isFirstUnit,\n  };\n};\n","import apiFetch from \"@wordpress/api-fetch\";\nimport { ICourse } from \"../types/course\";\nimport { actionTypes } from \"./const\";\nimport resolvers from \"./resolvers\";\nimport { fetchCourseData, submitCourseReview } from \"../utilities/apiCall\";\n\ninterface ReviewResponse {\n  comment_id?: number;\n  [key: string]: any;\n}\n\nexport const actions = {\n  // Course Info Actions\n  setCourseInfo(courseInfo: ICourse) {\n    return {\n      type: actionTypes.SET_COURSE_INFO,\n      payload: courseInfo,\n    };\n  },\n\n  setUserInfo(userInfo: any) {\n    return {\n      type: actionTypes.SET_USER_INFO,\n      payload: userInfo,\n    };\n  },\n\n  // Loading & Error Actions\n  setLoading(isLoading: boolean) {\n    return {\n      type: actionTypes.SET_IS_LOADING,\n      payload: isLoading,\n    };\n  },\n\n  setError(error: string) {\n    return {\n      type: actionTypes.SET_ERROR,\n      payload: error,\n    };\n  },\n\n  // Review Related Actions\n  setCourseInfoLoading(isLoading: boolean) {\n    return {\n      type: actionTypes.SET_REVIEW_LOADING,\n      payload: isLoading,\n    };\n  },\n\n  setCourseReviewError(error: string) {\n    return {\n      type: actionTypes.SET_REVIEW_ERROR,\n      payload: error,\n    };\n  },\n\n  setCourseReview(review: any) {\n    return {\n      type: actionTypes.SET_COURSE_REVIEW,\n      payload: review,\n    };\n  },\n\n  setReviewModalOpen(isOpen: boolean) {\n    return {\n      type: actionTypes.SET_REVIEW_MODAL_OPEN,\n      payload: isOpen,\n    };\n  },\n\n  setHasReview(hasReview: boolean) {\n    return {\n      type: actionTypes.SET_HAS_REVIEW,\n      payload: hasReview,\n    };\n  },\n\n  // Unit Navigation Actions\n  setNextUnit() {\n    return {\n      type: actionTypes.NEXT_UNIT,\n    };\n  },\n\n  setPreviousUnit() {\n    return {\n      type: actionTypes.PREV_UNIT,\n    };\n  },\n\n  setCurrentUnit(unitId: number) {\n    return {\n      type: actionTypes.SET_CURRENT_UNIT,\n      payload: unitId,\n    };\n  },\n\n  setProgress(progress: number) {\n    return {\n      type: actionTypes.SET_PROGRESS,\n      payload: progress,\n    };\n  },\n\n  // Async Actions (Thunks)\n  submitCourseReview:\n    ({\n      rating,\n      review,\n      courseId,\n    }: {\n      rating: number;\n      review: string;\n      courseId: number;\n    }) =>\n    async ({ dispatch }: { dispatch: any }) => {\n      try {\n        dispatch(actions.setLoading(true));\n        const token = (window as any).wplmsCustomCoursePlayer.token;\n\n        const response = (await submitCourseReview({\n          token,\n          comment_post_ID: courseId,\n          rating,\n          review,\n        })) as ReviewResponse;\n        if (response?.comment_id) {\n          dispatch(actions.setHasReview(true));\n        }\n        dispatch(actions.setCourseReview(response));\n        dispatch(actions.setReviewModalOpen(false));\n        dispatch(actions.setLoading(false));\n      } catch (error) {\n        dispatch(\n          actions.setError(\n            error instanceof Error ? error.message : String(error)\n          )\n        );\n        dispatch(actions.setLoading(false));\n      }\n    },\n\n  markUnitComplete:\n    ({\n      courseId,\n      unitId,\n      progress,\n    }: {\n      courseId: number;\n      unitId: number;\n      progress: number;\n    }) =>\n    async ({ dispatch }: { dispatch: any }) => {\n      try {\n        dispatch(actions.setLoading(true));\n        const token = (window as any).wplmsCustomCoursePlayer.token;\n\n        await apiFetch({\n          path: `/wplms/v2/user/coursestatus/${courseId}/item/${unitId}/markcomplete`,\n          method: \"POST\",\n          data: { token, course_id: courseId, item_id: unitId, progress },\n        });\n\n        dispatch(actions.setProgress(progress));\n        dispatch(actions.setLoading(false));\n      } catch (error) {\n        dispatch(\n          actions.setError(\n            error instanceof Error ? error.message : String(error)\n          )\n        );\n        dispatch(actions.setLoading(false));\n      }\n    },\n\n  fetchCourse:\n    (courseId: string) =>\n    async ({ dispatch }: { dispatch: any }) => {\n      try {\n        dispatch(actions.setLoading(true));\n        const token = (window as any).wplmsCustomCoursePlayer.token;\n        const response = await fetchCourseData({ courseId, token });\n\n        dispatch(actions.setCourseInfo(response));\n        dispatch(actions.setLoading(false));\n        dispatch(actions.setError(\"\"));\n      } catch (error) {\n        dispatch(\n          actions.setError(\n            error instanceof Error ? error.message : String(error)\n          )\n        );\n        dispatch(actions.setLoading(false));\n      }\n    },\n};\n","// const.ts\nexport const actionTypes = {\n  SET_COURSE_ID: \"SET_COURSE_ID\",\n  SET_PROGRESS: \"SET_PROGRESS\",\n  SET_CURRENT_UNIT: \"SET_CURRENT_UNIT\",\n  SET_IS_LOADING: \"SET_IS_LOADING\",\n  SET_ERROR: \"SET_ERROR\",\n  SET_COURSE_INFO: \"SET_COURSE_INFO\",\n  FETCH_COURSE_DATA: \"FETCH_COURSE_DATA\",\n  NEXT_UNIT: \"NEXT_UNIT\",\n  PREV_UNIT: \"PREV_UNIT\",\n  SET_USER_INFO: \"SET_USER_INFO\",\n  FETCH_USER_INFO: \"FETCH_USER_INFO\",\n  MARK_UNIT_COMPLETE: \"MARK_UNIT_COMPLETE\",\n  GET_COURSE_PROGRESS: \"GET_COURSE_PROGRESS\",\n  UNIT_COMPLETE_BY_ID: \"UNIT_COMPLETE_BY_ID\",\n  FETCH_COURSE_REVIEW: \"FETCH_COURSE_REVIEW\",\n  SUBMIT_COURSE_REVIEW: \"SUBMIT_COURSE_REVIEW\",\n  SET_COURSE_REVIEW: \"SET_COURSE_REVIEW\",\n  SET_REVIEW_LOADING: \"SET_REVIEW_LOADING\",\n  SET_REVIEW_ERROR: \"SET_REVIEW_ERROR\",\n  SET_REVIEW_MODAL_OPEN: \"SET_REVIEW_MODAL_OPEN\",\n  FINISH_COURSE: \"FINISH_COURSE\",\n  SET_COURSE_COMPLETED: \"SET_COURSE_COMPLETED\",\n  SET_COMPLETION_MESSAGE: \"SET_COMPLETION_MESSAGE\",\n  SET_HAS_REVIEW: \"SET_HAS_REVIEW\",\n};\n","// index.ts\nimport {\n  createReduxStore,\n  register,\n  useDispatch,\n  useSelect,\n} from \"@wordpress/data\";\nimport { actions } from \"./actions\";\nimport { reducer } from \"./reducer\";\nimport { SelectorReturnTypes, selectors } from \"./selectors\";\nimport resolvers from \"./resolvers\";\n\nconst coursePlayerStore = createReduxStore(\"custom-course-player\", {\n  reducer,\n  actions,\n  selectors,\n  resolvers,\n});\n\nregister(coursePlayerStore);\n\nexport default coursePlayerStore;\n\nexport function useTypedSelect<T>(\n  selector: (select: SelectorReturnTypes) => T,\n  deps: any[] = []\n): T {\n  return useSelect((select) => selector(select(coursePlayerStore.name)), deps);\n}\n\nexport function useTypedDispatch<T>(\n  action: (dispatch: typeof actions) => T\n): T {\n  return useDispatch(coursePlayerStore.name)(action);\n}\n","// reducer.ts\nimport { IUnit } from \"../types/course\";\nimport { State } from \"./types\";\nimport { actionTypes } from \"./const\";\n\n// Initial state\nexport const DEFAULT_STATE: State = {\n  token: null,\n  courseId: null,\n  courseInfo: null,\n  progress: 0,\n  currentUnitId: null,\n  allUnits: null,\n  isLoading: true,\n  error: null,\n  userInfo: null,\n  review: null,\n  reviewLoading: true,\n  hasReview: false,\n  reviewError: null,\n  reviewModalOpen: false,\n  courseTotalDuration: null,\n  completedDuration: null,\n  isCompleted: false,\n  completionMessage: null,\n};\n\n// Helper functions\nconst calculateCourseMetrics = (units: IUnit[]) => {\n  const courseTotalDuration = units.reduce(\n    (sum, unit) => sum + (unit.duration || 0),\n    0\n  );\n  const completedUnits = units.filter((unit) => unit.status === 1);\n  const completedDuration = completedUnits.reduce(\n    (sum, unit) => sum + (unit.duration || 0),\n    0\n  );\n  const progress = Math.round((completedDuration / courseTotalDuration) * 100);\n\n  return {\n    courseTotalDuration,\n    completedDuration,\n    progress,\n    isCompleted: progress >= 100,\n  };\n};\n\nexport const reducer = (state = DEFAULT_STATE, action: any): State => {\n  switch (action.type) {\n    // Course Info Related Actions\n    case actionTypes.SET_COURSE_INFO: {\n      const allUnits = action.payload.courseitems.filter(\n        (item: IUnit) => item.type !== \"section\"\n      );\n      const currentUnitId = allUnits.find(\n        (unit: IUnit) => unit.key === action.payload.current_unit_key\n      )?.id;\n      const metrics = calculateCourseMetrics(allUnits);\n\n      return {\n        ...state,\n        courseInfo: action.payload,\n        courseId: action.payload.course_id,\n        allUnits,\n        currentUnitId,\n        ...metrics,\n      };\n    }\n\n    case actionTypes.SET_USER_INFO:\n      return {\n        ...state,\n        userInfo: action.payload,\n      };\n\n    // Unit Navigation & Progress Actions\n    case actionTypes.SET_CURRENT_UNIT:\n      return {\n        ...state,\n        currentUnitId: action.payload,\n      };\n\n    case actionTypes.SET_PROGRESS:\n      return {\n        ...state,\n        progress: action.payload,\n      };\n\n    // Loading & Error States\n    case actionTypes.SET_IS_LOADING:\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n\n    case actionTypes.SET_ERROR:\n      return {\n        ...state,\n        error: action.payload,\n        isLoading: false,\n      };\n\n    // Review Related Actions\n    case actionTypes.SET_COURSE_REVIEW:\n      return {\n        ...state,\n        review: action.payload,\n        reviewLoading: false,\n        reviewError: null,\n        hasReview: action.payload.comment_ID ? true : false,\n      };\n\n    case actionTypes.SET_REVIEW_LOADING:\n      return {\n        ...state,\n        reviewLoading: action.payload,\n      };\n\n    case actionTypes.SET_REVIEW_ERROR:\n      return {\n        ...state,\n        reviewError: action.payload,\n        reviewLoading: false,\n      };\n\n    case actionTypes.SET_REVIEW_MODAL_OPEN:\n      return {\n        ...state,\n        reviewModalOpen: action.payload,\n      };\n\n    // Course Completion Actions\n    case actionTypes.SET_COURSE_COMPLETED:\n      return {\n        ...state,\n        isCompleted: action.payload,\n      };\n\n    case actionTypes.SET_COMPLETION_MESSAGE:\n      return {\n        ...state,\n        completionMessage: action.payload,\n      };\n\n    case actionTypes.MARK_UNIT_COMPLETE: {\n      const updatedUnits =\n        state.allUnits?.map((unit) =>\n          unit.id === action.payload.unitId ? { ...unit, status: 1 } : unit\n        ) || null;\n      if (updatedUnits) {\n        const metrics = calculateCourseMetrics(updatedUnits as IUnit[]);\n        return {\n          ...state,\n          allUnits: updatedUnits,\n          ...metrics,\n        };\n      }\n\n      return state;\n    }\n\n    // Unit Navigation Actions\n    case actionTypes.NEXT_UNIT: {\n      const currentIndex =\n        state.allUnits?.findIndex((unit) => unit.id === state.currentUnitId) ??\n        -1;\n      const nextUnit = state.allUnits?.[currentIndex + 1];\n\n      return {\n        ...state,\n        currentUnitId: nextUnit ? nextUnit.id : state.currentUnitId,\n      };\n    }\n\n    case actionTypes.PREV_UNIT: {\n      const currentIndex =\n        state.allUnits?.findIndex((unit) => unit.id === state.currentUnitId) ??\n        -1;\n      const prevUnit = state.allUnits?.[currentIndex - 1];\n\n      return {\n        ...state,\n        currentUnitId: prevUnit ? prevUnit.id : state.currentUnitId,\n      };\n    }\n\n    case actionTypes.SET_HAS_REVIEW:\n      return {\n        ...state,\n        hasReview: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n","import apiFetch from \"@wordpress/api-fetch\";\nimport { actions } from \"./actions\";\nimport { ICourse } from \"../types/course\";\nimport { fetchCourseData, getUserInfo } from \"../utilities/apiCall\";\n\nconst resolvers = {\n  async getCourseInfo(courseId: string) {\n    try {\n      actions.setLoading(true);\n      const token = (window as any).wplmsCustomCoursePlayer.token;\n      const response = await fetchCourseData({ courseId, token });\n      actions.setError(\"\");\n      return actions.setCourseInfo(response);\n    } catch (error) {\n      return actions.setError(\n        error instanceof Error ? error.message : String(error)\n      );\n    }\n  },\n\n  async getCourseReview(courseId: number) {\n    try {\n      const token = (window as any).wplmsCustomCoursePlayer.token;\n      const response = await apiFetch<any>({\n        path: `/wplms/v2/user/getreview/${courseId}`,\n        method: \"POST\",\n        data: { token, course_id: courseId },\n      });\n      console.log({ response });\n\n      return actions.setCourseReview(response);\n    } catch (error) {\n      return actions.setCourseReviewError(\n        error instanceof Error ? error.message : String(error)\n      );\n    }\n  },\n\n  async getUserInfo() {\n    try {\n      const token = (window as any).wplmsCustomCoursePlayer.token;\n      const response = await getUserInfo(token);\n      return actions.setUserInfo(response);\n    } catch (error) {\n      return actions.setError(\n        error instanceof Error ? error.message : String(error)\n      );\n    }\n  },\n};\n\nexport default resolvers;\n","import { createSelector, select } from \"@wordpress/data\";\nimport { IUnit, ICourse, IState } from \"../types/course\";\nimport { State } from \"./types\";\n\n// Type Definitions\n// ---------------\nexport type SelectorReturnTypes = {\n  getCourseId: () => number | null;\n  getCourseTitle: () => string | null;\n  getCourseInfo: (courseId: number) => ICourse | null;\n  isCourseInfoLoading: () => boolean;\n  getCurrentUnitId: () => number | null;\n  getUserInfo: () => any;\n  getProgress: () => number;\n  getCompletedDuration: () => number | null;\n  getCourseTotalDuration: () => number | null;\n  getAllUnits: () => IUnit[] | null;\n  getCompletedUnits: () => IUnit[];\n  getCourseReview: (courseId: number) => any;\n  getReviewLoading: () => boolean;\n  getReviewError: () => string | null;\n  getReviewModalOpen: () => boolean;\n  isLoading: () => boolean;\n  getError: () => string | null;\n  isCourseCompleted: () => boolean;\n  getCompletionMessage: () => string | null;\n  isLoadingCourseInfo: (courseId: number) => boolean;\n  isLoadingUserInfo: () => boolean;\n  isLoadingReview: (courseId: number) => boolean;\n  hasReview: () => boolean;\n};\n\n// Course Related Selectors\n// -----------------------\nexport const selectors = {\n  getCourseId(state: State): number | null {\n    return state.courseId;\n  },\n\n  getCourseTitle(state: State): string | null {\n    return state.courseInfo?.course_title ?? null;\n  },\n\n  getCourseInfo(state: State, courseId: number): ICourse | null {\n    return state.courseInfo;\n  },\n\n  isCourseInfoLoading(state: State): boolean {\n    return state.isLoading;\n  },\n\n  isCourseCompleted(state: State): boolean {\n    return state.isCompleted ?? false;\n  },\n\n  getCompletionMessage(state: State): string | null {\n    return state.completionMessage;\n  },\n\n  // Unit Related Selectors\n  // ---------------------\n  getCurrentUnitId(state: State): number | null {\n    return state.currentUnitId;\n  },\n\n  getAllUnits(state: State): IUnit[] | null {\n    return state.allUnits;\n  },\n\n  getCompletedUnits(state: State): IUnit[] {\n    return state.allUnits?.filter((unit: IUnit) => unit.status === 1) ?? [];\n  },\n\n  // Progress Related Selectors\n  // -------------------------\n  getProgress(state: State): number {\n    return state.progress ?? 0;\n  },\n\n  getCompletedDuration(state: State): number | null {\n    return state.completedDuration;\n  },\n\n  getCourseTotalDuration(state: State): number | null {\n    return state.courseTotalDuration;\n  },\n\n  // User Related Selectors\n  // ---------------------\n  getUserInfo(state: State): any {\n    return state.userInfo;\n  },\n\n  // Review Related Selectors\n  // -----------------------\n  getCourseReview(state: State): any {\n    return state.review;\n  },\n\n  getReviewLoading(state: State): boolean {\n    return state.reviewLoading;\n  },\n\n  getReviewError(state: State): string | null {\n    return state.reviewError;\n  },\n\n  getReviewModalOpen(state: State): boolean {\n    return state.reviewModalOpen ?? false;\n  },\n\n  hasReview(state: State): boolean {\n    return state.hasReview;\n  },\n\n  // Loading & Error State Selectors\n  // ------------------------------\n  isLoading(state: State): boolean {\n    return state.isLoading ?? false;\n  },\n\n  getError(state: State): string | null {\n    return state.error;\n  },\n\n  isLoadingCourseInfo(state: State, courseId: number): boolean {\n    return select(\"core/data\").isResolving(\n      \"custom-course-player\",\n      \"getCourseInfo\",\n      [courseId]\n    );\n  },\n\n  isLoadingUserInfo(state: State): boolean {\n    return select(\"core/data\").isResolving(\n      \"custom-course-player\",\n      \"getUserInfo\",\n      []\n    );\n  },\n\n  isLoadingReview(state: State, courseId: number): boolean {\n    return select(\"core/data\").isResolving(\n      \"custom-course-player\",\n      \"getCourseReview\",\n      [courseId]\n    );\n  },\n};\n\n// Types and Memoized Selectors\n// ---------------------------\nexport type SelectorsType = typeof selectors;\n\nexport type SelectorReturnType<K extends keyof SelectorsType> = ReturnType<\n  SelectorsType[K]\n>;\n\nexport const memoizedSelectors = {\n  getCompletedUnits: createSelector(\n    (state: State) => state.allUnits,\n    (allUnits): IUnit[] =>\n      allUnits?.filter((unit: IUnit) => unit.status === 1) ?? []\n  ),\n};\n\nexport default selectors;\n","import apiFetch from \"@wordpress/api-fetch\";\nimport { IComment } from \"../types/comment\";\nimport { ICourse, IUnitItem } from \"../types/course\";\nexport const fetchCourseData = async ({\n  courseId,\n  token,\n}: {\n  courseId: string;\n  token: string;\n}) => {\n  try {\n    const data = await apiFetch<ICourse | null>({\n      path: `/wplms/v2/user/coursestatus/${courseId}`,\n      method: \"POST\",\n      data: { token: token },\n    });\n    console.log(data);\n    if (data) {\n      return data;\n    } else {\n      throw new Error(data || \"Failed to fetch course data\");\n    }\n  } catch (err) {\n    throw new Error(\"Error fetching course data\");\n  }\n};\n\nexport const fetchUnitContent = async ({\n  courseId,\n  unitId,\n  token,\n}: {\n  courseId: number | string;\n  unitId: number | null;\n  token: string;\n}) => {\n  try {\n    const data = await apiFetch<IUnitItem | null>({\n      path: `/wplms/v2/user/coursestatus/${courseId}/item/${unitId}`,\n\n      method: \"POST\",\n      data: {\n        token: token,\n      },\n    });\n\n    if (data) {\n      return data;\n    } else {\n      throw new Error(\"Failed to fetch unit content\");\n    }\n  } catch (err) {\n    console.error(\"Error fetching unit content:\", err);\n  }\n};\n\nexport const fetchCourseReview = async ({\n  courseId,\n  token,\n}: {\n  courseId: number;\n  token: string;\n}): Promise<IComment> => {\n  try {\n    const response = (await apiFetch({\n      path: `/wplms/v2/user/getreview/${courseId}`,\n      method: \"POST\",\n      data: { token, course_id: courseId },\n    })) as IComment;\n    return response;\n  } catch (err) {\n    console.error(\"Failed to fetch review status\");\n    throw err;\n  }\n};\nexport const submitCourseReview = async ({\n  rating,\n  review,\n  token,\n  comment_post_ID,\n}: {\n  rating: number;\n  review: string;\n  token: string;\n  comment_post_ID: number;\n}) => {\n  try {\n    const response = await apiFetch({\n      path: `/wplms/v2/updatecourse/addreview`,\n      method: \"POST\",\n      data: {\n        token,\n        comment_post_ID,\n        rating,\n        review,\n        title: \"Course Review\",\n        course_id: comment_post_ID,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Failed to submit review\");\n  }\n};\n\nexport const getUserInfo = async (token: string) => {\n  try {\n    const response = await apiFetch({\n      path: \"/wplms/v2/user/\",\n      method: \"POST\",\n      data: { token },\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Failed to fetch user info\");\n  }\n};\n\nexport const markUnitComplete = async ({\n  courseId,\n  unitId,\n  token,\n  progress,\n}: {\n  courseId: number;\n  unitId: number;\n  token: string;\n  progress: number;\n}) => {\n  try {\n    const response = await apiFetch({\n      method: \"POST\",\n      path: `/wplms/v2/user/coursestatus/${courseId}/item/${unitId}/markcomplete`,\n      data: {\n        token: token,\n        course_id: courseId,\n        item_id: unitId,\n        progress: progress,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Failed to mark unit complete\");\n  }\n};\n\nexport const getCourseProgress = async ({\n  courseId,\n  token,\n}: {\n  courseId: number;\n  token: string;\n}) => {\n  try {\n    const response = await apiFetch({\n      method: \"POST\",\n      path: \"wplms-custom-course-player/v1/course-progress\",\n      data: {\n        course_id: courseId,\n        token: token,\n      },\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Failed to get course progress\");\n  }\n};\n\n// finish course\nexport const finishCourse = async ({\n  courseId,\n  token,\n}: {\n  courseId: number;\n  token: string;\n}) => {\n  try {\n    const response = await apiFetch({\n      method: \"POST\",\n      path: `/wplms/v2/user/finishcourse`,\n      data: { course_id: courseId, token },\n    });\n    return response;\n  } catch (err) {\n    console.error(\"Failed to finish course\");\n  }\n};\n","export const formatDuration = (duration: number) => {\n  const minutes = Math.floor(duration / 60);\n  const seconds = duration % 60;\n  return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n};\n","// extracted by mini-css-extract-plugin\nexport {};","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { createRoot } from 'react-dom/client';\nimport './index.css';\nimport React from '@wordpress/element';\nimport './store';\nimport RootContainer from './components/RootContainer';\n\n\n\nconst initializeCoursePlayer = () => {\n    const container = document.getElementById('wplms-custom-course-player');\n    if (container) {\n\n        const courseId = container.getAttribute('data-course-id') || '0';\n        const root = createRoot(container);\n        root.render(<RootContainer courseId={courseId} />);\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', initializeCoursePlayer);"],"names":["React","useState","useDispatch","ContentArea","Sidebar","TopBar","useTypedSelect","jsx","_jsx","jsxs","_jsxs","RootContainer","courseId","isSidebarOpen","setIsSidebarOpen","fetchCourse","courseInfo","loading","error","currentUnitId","select","getCourseInfo","parseInt","isLoadingUserInfo","getError","getCurrentUnitId","toggleSidebar","className","children","onClick","onToggleSidebar","isOpen","onToggle","ProgressCircle","progress","size","strokeWidth","circleColor","progressColor","console","log","center","radius","circumference","Math","PI","strokeDasharray","width","height","viewBox","cx","cy","r","stroke","fill","strokeLinecap","ProgressDropdown","completedUnits","totalUnits","strokeLinejoin","d","style","useMemo","ReviewModal","Fragment","_Fragment","_completedUnits$lengt","_totalUnits$length","isProgressOpen","setIsProgressOpen","reviewModalOpen","getCourseId","getAllUnits","getCompletedUnits","getReviewModalOpen","getProgress","courseTitle","getCourseTitle","reviewLoading","review","isLoadingReview","getCourseReview","dispatch","setReviewModalOpen","open","hasReview","comment_ID","undefined","disabled","length","Boolean","onClose","courseName","onReviewSuccess","useContentArea","ContentDisplay","unitContent","isLastUnit","isFirstUnit","isHovering","handlePrevious","handleNext","handleMouseEnter","handleMouseLeave","handleRetry","onMouseEnter","onMouseLeave","title","onPrevious","onNext","onRetry","NavigationButtons","dangerouslySetInnerHTML","__html","content","SidebarHeader","SidebarProgress","totalLectures","totalDuration","completedLectures","getCourseTotalDuration","useCallback","UnitItemView","UnitItem","unit","_unit$status","markUnitComplete","setCurrentUnit","isUnitComplete","setIsUnitComplete","status","completedDuration","courseTotalDuration","getCompletedDuration","unitCompletedProgress","duration","round","onHandleCompleteUnit","unitId","onSelectUnit","onCompleteUnit","formatDuration","id","fillRule","clipRule","e","stopPropagation","icon","CourseSections","CourseCompletionStatus","isCompleted","completionMessage","onFinishCourse","useCourseSectionsView","SectionHeader","sections","expandedSections","toggleSection","getSectionStats","handleFinishCourse","map","section","index","stats","isExpanded","includes","units","key","isComplete","StarIcon","filled","RatingStars","rating","onRatingChange","value","ReviewForm","isLoading","onReviewChange","onSubmit","onChange","target","placeholder","maxLength","useEffect","SuccessMessage","setRating","setReview","setError","success","setSuccess","userInfo","currentReview","getUserInfo","handleSubmit","submitCourseReview","setTimeout","err","avatar","src","alt","name","useUnitContent","setIsHovering","setPreviousUnit","setNextUnit","window","location","reload","useCourseSections","setExpandedSections","items","courseitems","initialExpandedSection","organizedSections","currentSection","sectionWithCurrentUnit","forEach","item","type","push","some","prev","sectionIndex","findIndex","filter","isSectionExpanded","reduce","acc","REVIEW_MILESTONES","lastShownMilestone","setLastShownMilestone","finishCourse","isCourseCompleted","getCompletionMessage","onHandleReviewModalOpen","milestone","find","fetchUnitContent","userAuthToken","wplmsCustomCoursePlayer","token","allUnits","setUnitContent","setLoading","setIsLastUnit","setIsFirstUnit","fetchContent","data","Error","message","String","apiFetch","actionTypes","fetchCourseData","actions","setCourseInfo","SET_COURSE_INFO","payload","setUserInfo","SET_USER_INFO","SET_IS_LOADING","SET_ERROR","setCourseInfoLoading","SET_REVIEW_LOADING","setCourseReviewError","SET_REVIEW_ERROR","setCourseReview","SET_COURSE_REVIEW","SET_REVIEW_MODAL_OPEN","setHasReview","SET_HAS_REVIEW","NEXT_UNIT","PREV_UNIT","SET_CURRENT_UNIT","setProgress","SET_PROGRESS","response","comment_post_ID","comment_id","path","method","course_id","item_id","SET_COURSE_ID","FETCH_COURSE_DATA","FETCH_USER_INFO","MARK_UNIT_COMPLETE","GET_COURSE_PROGRESS","UNIT_COMPLETE_BY_ID","FETCH_COURSE_REVIEW","SUBMIT_COURSE_REVIEW","FINISH_COURSE","SET_COURSE_COMPLETED","SET_COMPLETION_MESSAGE","createReduxStore","register","useSelect","reducer","selectors","resolvers","coursePlayerStore","selector","deps","useTypedDispatch","action","DEFAULT_STATE","reviewError","calculateCourseMetrics","sum","state","current_unit_key","metrics","updatedUnits","_state$allUnits$findI","currentIndex","nextUnit","_state$allUnits$findI2","prevUnit","createSelector","_state$courseInfo$cou","course_title","isCourseInfoLoading","_state$isCompleted","_state$allUnits$filte","_state$progress","getReviewLoading","getReviewError","_state$reviewModalOpe","_state$isLoading","isLoadingCourseInfo","isResolving","memoizedSelectors","_allUnits$filter","fetchCourseReview","getCourseProgress","minutes","floor","seconds","toString","padStart","createRoot","initializeCoursePlayer","container","document","getElementById","getAttribute","root","render","addEventListener"],"sourceRoot":""}